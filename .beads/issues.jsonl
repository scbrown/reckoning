{"id":"reckoning-01j","title":"P3-2.3: Character Card Component","description":"Reusable character card for party panel.\nFiles: packages/client/src/components/character-card.ts","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-11T07:53:30.897850495Z","created_by":"Admin","updated_at":"2026-01-11T08:17:20.974498357Z","closed_at":"2026-01-11T08:17:20.974498357Z","close_reason":"Closed","labels":["client","component","phase-3","ui"],"dependencies":[{"issue_id":"reckoning-01j","depends_on_id":"reckoning-y2l","type":"blocks","created_at":"2026-01-11T07:53:30.899510396Z","created_by":"Admin"}]}
{"id":"reckoning-034","title":"Merge: morsov-mk9fzxqh","description":"branch: polecat/morsov-mk9fzxqh\ntarget: main\nsource_issue: morsov-mk9fzxqh\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-morsov\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:06:06.694165906Z","created_by":"reckoning/polecats/morsov","updated_at":"2026-01-11T08:08:47.564095404Z","closed_at":"2026-01-11T08:08:47.564095404Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-05r","title":"Merge: nux-mk8xltj5","description":"branch: polecat/nux-mk8xltj5\ntarget: main\nsource_issue: nux-mk8xltj5\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:54:13.33789876Z","created_by":"reckoning/polecats/nux","updated_at":"2026-01-11T08:01:45.244018559Z","closed_at":"2026-01-11T08:01:45.244018559Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-0h0","title":"Merge: interceptor-mk9j56xw","description":"branch: polecat/interceptor-mk9j56xw\ntarget: main\nsource_issue: interceptor-mk9j56xw\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-interceptor\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:29:12.722023041Z","created_by":"reckoning/polecats/interceptor","updated_at":"2026-01-11T12:04:42.231928794Z","closed_at":"2026-01-11T12:04:42.231928794Z","close_reason":"Merged to main at d1bc1ba","labels":["gt:merge-request"]}
{"id":"reckoning-0mt","title":"Merge: road-warrior","description":"branch: polecat/road-warrior-mk9j8z85\ntarget: main\nsource_issue: road-warrior\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-road-warrior\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:31:19.333405367Z","created_by":"reckoning/polecats/road-warrior","updated_at":"2026-01-11T17:07:44.133826538Z","closed_at":"2026-01-11T17:07:44.133826538Z","close_reason":"Stale MR - branch already merged or cleaned up","labels":["conflict","gt:merge-request"]}
{"id":"reckoning-0tz","title":"P3-5.2: World Generation Pipeline","description":"dispatched_by: mayor\n\nCreate pipeline to generate initial world.\nFiles: packages/server/src/services/world-generation/index.ts\nWorldGenerator: generate(gameId, party) creates areas and NPCs","status":"closed","priority":2,"issue_type":"task","assignee":"reckoning/polecats/interceptor","estimated_minutes":180,"created_at":"2026-01-11T07:54:13.15022881Z","created_by":"Admin","updated_at":"2026-01-11T09:31:24.600298697Z","closed_at":"2026-01-11T09:31:24.600298697Z","close_reason":"world generation merged to main","labels":["ai","phase-3","server","world-gen"],"dependencies":[{"issue_id":"reckoning-0tz","depends_on_id":"reckoning-jeu","type":"blocks","created_at":"2026-01-11T07:54:13.151451242Z","created_by":"Admin"},{"issue_id":"reckoning-0tz","depends_on_id":"reckoning-3re","type":"blocks","created_at":"2026-01-11T07:54:13.152588333Z","created_by":"Admin"}]}
{"id":"reckoning-0yo","title":"F2: TTS Integration","description":"Connect game events to existing TTS system for narrator voice.\n\nIntegration work:\n- Map EventType to appropriate TTS voice role\n- Queue narration after DM submits content\n- Emit SSE events for TTS status (started/complete)\n- Update status bar with TTS state\n\nVoice role mapping:\n- narration ‚Üí narrator voice\n- party_dialogue ‚Üí character voice\n- npc_dialogue ‚Üí NPC voice\n- environment ‚Üí narrator voice","acceptance_criteria":"- [ ] Submitted narration events play via TTS\n- [ ] Correct voice roles used per EventType\n- [ ] TTS status shown in UI status bar\n- [ ] SSE events emitted for TTS lifecycle","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T22:29:53.806054407Z","created_by":"stiwi","updated_at":"2026-01-11T09:18:35.488941187Z","closed_at":"2026-01-11T09:18:35.488941187Z","close_reason":"TTS integration implemented - voice registry and character voices work","labels":["integration","phase-2","tts"],"dependencies":[{"issue_id":"reckoning-0yo","depends_on_id":"reckoning-42l","type":"blocks","created_at":"2026-01-10T22:29:53.807125042Z","created_by":"unknown"}]}
{"id":"reckoning-19b","title":"Phase 1: Text-to-Speech Engine","description":"Implement TTS system using ElevenLabs to provide voice narration for the game. Powers Chronicle narration, character dialogue, and Trial sequences.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T18:26:53.610959308Z","created_by":"admin","updated_at":"2026-01-10T19:15:55.370531194Z","closed_at":"2026-01-10T19:15:55.370531194Z","close_reason":"Phase 1 TTS Engine complete - all 7 child tasks delivered","labels":["epic","phase-1","tts"]}
{"id":"reckoning-19b.1","title":"Backend Proxy Service","description":"dispatched_by: mayor\n\nCreate Fastify backend server with /api/tts/speak endpoint (streaming response), API key management, request validation, CORS setup, and health check endpoint.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T18:27:10.317378119Z","created_by":"admin","updated_at":"2026-01-10T18:45:40.495750779Z","closed_at":"2026-01-10T18:45:40.495750779Z","close_reason":"Implemented by polecat furiosa - TTS proxy endpoints with Zod validation, CORS, API key management","labels":["backend","phase-1","tts"],"dependencies":[{"issue_id":"reckoning-19b.1","depends_on_id":"reckoning-19b","type":"parent-child","created_at":"2026-01-10T18:27:10.317970621Z","created_by":"admin"},{"issue_id":"reckoning-19b.1","depends_on_id":"reckoning-19b.7","type":"blocks","created_at":"2026-01-10T18:27:52.900851293Z","created_by":"admin"}]}
{"id":"reckoning-19b.2","title":"ElevenLabs API Integration","description":"dispatched_by: mayor\n\nCreate ElevenLabs API client wrapper with textToSpeech() method, getVoices() for voice discovery, streaming response handling for long text, error handling/retries, and TypeScript types for API responses.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T18:27:11.034591309Z","created_by":"admin","updated_at":"2026-01-10T18:44:38.819401047Z","closed_at":"2026-01-10T18:44:38.819401047Z","close_reason":"Implemented ElevenLabs API client with textToSpeech() streaming, getVoices(), exponential backoff retries, and full TypeScript types","labels":["backend","elevenlabs","phase-1","tts"],"dependencies":[{"issue_id":"reckoning-19b.2","depends_on_id":"reckoning-19b","type":"parent-child","created_at":"2026-01-10T18:27:11.041012432Z","created_by":"admin"},{"issue_id":"reckoning-19b.2","depends_on_id":"reckoning-19b.7","type":"blocks","created_at":"2026-01-10T18:27:53.539235408Z","created_by":"admin"}]}
{"id":"reckoning-19b.3","title":"Redis Caching Layer","description":"dispatched_by: mayor\n\nImplement caching layer for TTS: cache key strategy (hash of text + voice + settings), Redis connection with ioredis, cache-aside pattern, buffer streamed response for storage while forwarding to client, TTL policies (7 days narration, 30 days static dialogue), cache hit/miss logging.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T18:27:12.991033833Z","created_by":"admin","updated_at":"2026-01-10T18:52:58.03883084Z","closed_at":"2026-01-10T18:52:58.03883084Z","close_reason":"Implemented by polecat nux - Redis caching with cache-aside pattern, TTL policies, hit/miss logging","labels":["backend","cache","phase-1","redis","tts"],"dependencies":[{"issue_id":"reckoning-19b.3","depends_on_id":"reckoning-19b","type":"parent-child","created_at":"2026-01-10T18:27:12.991694476Z","created_by":"admin"},{"issue_id":"reckoning-19b.3","depends_on_id":"reckoning-19b.2","type":"blocks","created_at":"2026-01-10T18:27:54.377981396Z","created_by":"admin"}]}
{"id":"reckoning-19b.4","title":"Client-Side TTS Service","description":"dispatched_by: mayor\n\nCreate TTSService class for browser: audio queue for sequential playback, playback controls (pause, resume, skip, stop), Web Audio API handling, volume control, preloading for anticipated speech.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T18:27:13.587848293Z","created_by":"admin","updated_at":"2026-01-10T18:52:57.937482732Z","closed_at":"2026-01-10T18:52:57.937482732Z","close_reason":"Implemented by polecat furiosa - Client-side TTS service with audio queue, playback controls, volume, preloading","labels":["audio","client","phase-1","tts"],"dependencies":[{"issue_id":"reckoning-19b.4","depends_on_id":"reckoning-19b","type":"parent-child","created_at":"2026-01-10T18:27:13.588466959Z","created_by":"admin"},{"issue_id":"reckoning-19b.4","depends_on_id":"reckoning-19b.1","type":"blocks","created_at":"2026-01-10T18:27:55.510628051Z","created_by":"admin"}]}
{"id":"reckoning-19b.5","title":"Voice Configuration System","description":"dispatched_by: mayor\n\nCreate voice registry with role mappings (narrator, judge, npc, inner_voice), implement voice preset system for different contexts (chronicle, dialogue_calm, dialogue_intense, trial_judgment), runtime voice switching, voice selection UI for testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T18:27:14.244133087Z","created_by":"admin","updated_at":"2026-01-10T19:15:49.839682774Z","closed_at":"2026-01-10T19:15:49.839682774Z","close_reason":"Phase 1 TTS complete - voice config and tests/docs delivered","labels":["config","phase-1","tts"],"dependencies":[{"issue_id":"reckoning-19b.5","depends_on_id":"reckoning-19b","type":"parent-child","created_at":"2026-01-10T18:27:14.251074747Z","created_by":"admin"},{"issue_id":"reckoning-19b.5","depends_on_id":"reckoning-19b.7","type":"blocks","created_at":"2026-01-10T18:27:56.456224457Z","created_by":"admin"}]}
{"id":"reckoning-19b.6","title":"TTS Testing \u0026 Documentation","description":"dispatched_by: mayor\n\nUnit tests for TTS service, integration tests with mocked ElevenLabs, E2E test for full speech flow, API documentation, usage examples. Target: \u003e80% coverage on TTS service.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T18:27:14.369765727Z","created_by":"admin","updated_at":"2026-01-10T19:15:49.849533002Z","closed_at":"2026-01-10T19:15:49.849533002Z","close_reason":"Phase 1 TTS complete - voice config and tests/docs delivered","labels":["docs","phase-1","testing","tts"],"dependencies":[{"issue_id":"reckoning-19b.6","depends_on_id":"reckoning-19b","type":"parent-child","created_at":"2026-01-10T18:27:14.370519348Z","created_by":"admin"}]}
{"id":"reckoning-19b.7","title":"Shared TTS Types","description":"dispatched_by: mayor\n\nDefine shared TypeScript types in @reckoning/shared: TTSRequest, SpeakOptions, VoiceRole, VoicePreset, ITTSService interface. These types will be used by both client and server.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T18:27:21.447185058Z","created_by":"admin","updated_at":"2026-01-10T18:39:35.578975854Z","closed_at":"2026-01-10T18:39:35.578975854Z","close_reason":"Implemented by polecat furiosa - SpeakOptions and ITTSService types added to @reckoning/shared","labels":["phase-1","shared","tts","types"],"dependencies":[{"issue_id":"reckoning-19b.7","depends_on_id":"reckoning-19b","type":"parent-child","created_at":"2026-01-10T18:27:21.447800343Z","created_by":"admin"}]}
{"id":"reckoning-1g1","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no branches to merge, inbox clean","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:35:15.412786914Z","updated_at":"2026-01-11T09:35:15.412786914Z","closed_at":"2026-01-11T09:35:15.412753009Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-1sd","title":"Merge: witness-mk9ipz7h","description":"branch: polecat/witness-mk9ipz7h\ntarget: main\nsource_issue: witness-mk9ipz7h\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-witness\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:24:03.971156152Z","created_by":"reckoning/polecats/witness","updated_at":"2026-01-11T16:46:30.06337375Z","closed_at":"2026-01-11T16:46:30.06337375Z","close_reason":"Already merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-1y8","title":"Merge: toast-mk8zj4do","description":"branch: polecat/toast-mk8zj4do\ntarget: main\nsource_issue: toast-mk8zj4do\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-toast\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T00:31:58.820700093Z","created_by":"reckoning/polecats/toast","updated_at":"2026-01-11T08:01:43.838742513Z","closed_at":"2026-01-11T08:01:43.838742513Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-1zj","title":"E4: UI Components - Core","description":"Create core UI components for DM interaction.\n\n## Files to Create\n\n```\npackages/client/src/components/\n‚îú‚îÄ‚îÄ dm-editor.ts          # Main content editor\n‚îú‚îÄ‚îÄ narrator-output.ts    # Scrolling narrative history\n‚îú‚îÄ‚îÄ controls.ts           # Accept/Edit/Regenerate/Inject buttons\n‚îî‚îÄ‚îÄ playback-controls.ts  # Auto/Pause/Step/Stop controls\n```\n\n## Component Pattern\n\nAll components follow this pattern:\n\n```typescript\ninterface ComponentConfig {\n  containerId: string;\n  // component-specific options\n}\n\nclass Component {\n  protected container: HTMLElement;\n  protected state: GameStateManager;\n  \n  constructor(config: ComponentConfig, state: GameStateManager);\n  \n  // Render component\n  render(): void;\n  \n  // Update from state\n  update(state: ClientGameState): void;\n  \n  // Cleanup\n  destroy(): void;\n}\n```\n\n## DMEditor\n\nThe main editor for reviewing and editing AI-generated content.\n\n```typescript\nclass DMEditor {\n  private textarea: HTMLTextAreaElement;\n  private originalContent: string = '';\n  private isEditing: boolean = false;\n  \n  constructor(containerId: string, state: GameStateManager);\n  \n  render(): void;\n  \n  // Update with new pending content\n  update(state: ClientGameState): void;\n  \n  // Get current edited content\n  getContent(): string;\n  \n  // Check if content was modified\n  isModified(): boolean;\n  \n  // Enable/disable editing\n  setEnabled(enabled: boolean): void;\n  \n  // Show loading state\n  setLoading(loading: boolean): void;\n}\n```\n\n### DMEditor HTML Structure\n\n```html\n\u003cdiv class=\"dm-editor\"\u003e\n  \u003cdiv class=\"dm-editor-header\"\u003e\n    \u003cspan class=\"dm-editor-title\"\u003eDM Editor\u003c/span\u003e\n    \u003cspan class=\"dm-editor-status\"\u003eReviewing\u003c/span\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"dm-editor-content\"\u003e\n    \u003ctextarea class=\"dm-editor-textarea\" placeholder=\"AI will generate content here...\"\u003e\u003c/textarea\u003e\n    \u003cdiv class=\"dm-editor-loading\"\u003e\n      \u003cspan class=\"spinner\"\u003e\u003c/span\u003e\n      \u003cspan\u003eGenerating...\u003c/span\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"dm-editor-meta\"\u003e\n    \u003cspan class=\"event-type-badge\"\u003eparty_action\u003c/span\u003e\n    \u003cspan class=\"speaker\"\u003eMarcus\u003c/span\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n```\n\n## NarratorOutput\n\nScrolling narrative history display.\n\n```typescript\nclass NarratorOutput {\n  private entries: HTMLElement;\n  private autoScroll: boolean = true;\n  \n  constructor(containerId: string, state: GameStateManager);\n  \n  render(): void;\n  update(state: ClientGameState): void;\n  \n  // Add new narrative entry\n  addEntry(entry: NarrativeEntry): void;\n  \n  // Scroll to bottom\n  scrollToBottom(): void;\n  \n  // Toggle auto-scroll\n  setAutoScroll(enabled: boolean): void;\n  \n  // Clear all entries\n  clear(): void;\n}\n```\n\n### NarratorOutput HTML Structure\n\n```html\n\u003cdiv class=\"narrator-output\"\u003e\n  \u003cdiv class=\"narrator-header\"\u003e\n    \u003cspan\u003eNarrative\u003c/span\u003e\n    \u003clabel\u003e\u003cinput type=\"checkbox\" checked\u003e Auto-scroll\u003c/label\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"narrator-entries\"\u003e\n    \u003cdiv class=\"narrative-entry narration\"\u003e\n      \u003cspan class=\"entry-content\"\u003eThe tavern door creaks open...\u003c/span\u003e\n    \u003c/div\u003e\n    \u003cdiv class=\"narrative-entry party_dialogue\"\u003e\n      \u003cspan class=\"entry-speaker\"\u003eKira:\u003c/span\u003e\n      \u003cspan class=\"entry-content\"\u003e\"Did anyone else hear that?\"\u003c/span\u003e\n      \u003cspan class=\"tts-indicator playing\"\u003eüîä\u003c/span\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n```\n\n## Controls\n\nAction buttons for DM decisions.\n\n```typescript\ninterface ControlsCallbacks {\n  onAccept: () =\u003e void;\n  onEdit: () =\u003e void;\n  onRegenerate: () =\u003e void;\n  onInject: () =\u003e void;\n}\n\nclass Controls {\n  constructor(containerId: string, callbacks: ControlsCallbacks);\n  \n  render(): void;\n  \n  // Enable/disable specific buttons\n  setEnabled(button: 'accept' | 'edit' | 'regenerate' | 'inject', enabled: boolean): void;\n  \n  // Set all buttons enabled/disabled\n  setAllEnabled(enabled: boolean): void;\n  \n  // Show regenerate feedback input\n  showRegenerateFeedback(): void;\n}\n```\n\n### Controls HTML Structure\n\n```html\n\u003cdiv class=\"controls\"\u003e\n  \u003cbutton class=\"btn btn-accept\" title=\"Submit as-is\"\u003eAccept\u003c/button\u003e\n  \u003cbutton class=\"btn btn-edit\" title=\"Edit and submit\"\u003eEdit\u003c/button\u003e\n  \u003cbutton class=\"btn btn-regenerate\" title=\"Ask AI to try again\"\u003eRegenerate\u003c/button\u003e\n  \u003cbutton class=\"btn btn-inject\" title=\"Write your own\"\u003eInject\u003c/button\u003e\n\u003c/div\u003e\n\u003cdiv class=\"regenerate-feedback\" hidden\u003e\n  \u003cinput type=\"text\" placeholder=\"Feedback for AI (optional)...\"\u003e\n  \u003cbutton class=\"btn-small\"\u003eSubmit\u003c/button\u003e\n\u003c/div\u003e\n```\n\n## PlaybackControls\n\nPlayback mode controls.\n\n```typescript\nclass PlaybackControls {\n  private currentMode: PlaybackMode = 'auto';\n  \n  constructor(containerId: string, onModeChange: (mode: PlaybackMode) =\u003e void);\n  \n  render(): void;\n  \n  // Update displayed mode\n  setMode(mode: PlaybackMode): void;\n  \n  // Enable/disable controls\n  setEnabled(enabled: boolean): void;\n}\n```\n\n### PlaybackControls HTML Structure\n\n```html\n\u003cdiv class=\"playback-controls\"\u003e\n  \u003cbutton class=\"btn-playback active\" data-mode=\"auto\" title=\"Auto-advance\"\u003e‚ñ∂ Auto\u003c/button\u003e\n  \u003cbutton class=\"btn-playback\" data-mode=\"paused\" title=\"Pause\"\u003e‚è∏ Pause\u003c/button\u003e\n  \u003cbutton class=\"btn-playback\" data-mode=\"stepping\" title=\"Step\"\u003e‚è≠ Step\u003c/button\u003e\n  \u003cbutton class=\"btn-playback\" data-mode=\"stopped\" title=\"Stop\"\u003e‚èπ Stop\u003c/button\u003e\n\u003c/div\u003e\n```\n\n## Styling\n\nUse existing dark theme from Phase 1:\n- Background: #0a0a0a\n- Text: #e0e0e0\n- Accent: #667eea ‚Üí #764ba2 gradient\n- Borders: #333, #444","acceptance_criteria":"- [ ] DMEditor component created\n- [ ] DMEditor shows pending content in textarea\n- [ ] DMEditor tracks modified state\n- [ ] DMEditor shows loading spinner during generation\n- [ ] NarratorOutput component created\n- [ ] NarratorOutput displays narrative history\n- [ ] NarratorOutput auto-scrolls (toggleable)\n- [ ] NarratorOutput shows TTS playing indicator\n- [ ] Controls component with Accept/Edit/Regenerate/Inject\n- [ ] Controls can be individually enabled/disabled\n- [ ] Regenerate shows feedback input\n- [ ] PlaybackControls with Auto/Pause/Step/Stop\n- [ ] PlaybackControls highlights current mode\n- [ ] All components follow dark theme\n- [ ] All components update from state","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:28:00.631124499Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:25.781601756Z","closed_at":"2026-01-11T09:17:25.781601756Z","close_reason":"Core UI components implemented: dm-editor, controls, narrator-output, playback-controls","labels":["client","phase-2","ui"],"dependencies":[{"issue_id":"reckoning-1zj","depends_on_id":"reckoning-7el","type":"blocks","created_at":"2026-01-10T22:28:00.652063158Z","created_by":"unknown"}]}
{"id":"reckoning-1zp","title":"Merge: dag-mk8zjqi2","description":"branch: polecat/dag-mk8zjqi2\ntarget: main\nsource_issue: dag-mk8zjqi2\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-dag\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T00:32:40.026349892Z","created_by":"reckoning/polecats/dag","updated_at":"2026-01-11T08:01:43.705198025Z","closed_at":"2026-01-11T08:01:43.705198025Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-25ir","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no merges this cycle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:56:02.660251096Z","updated_at":"2026-01-11T14:56:02.660251096Z","closed_at":"2026-01-11T14:56:02.660177887Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-2cv","title":"Add client TTS service tests","description":"The client package has no tests. Phase 1 acceptance criteria requires \u003e80% test coverage on TTS service.\n\nNeed to add unit tests for packages/client/src/services/tts/index.ts covering:\n- Queue management (speak, preload, clearQueue)\n- Playback controls (play, pause, resume, skip, stop)\n- Volume control\n- Event callbacks\n- Error handling\n- dispose() lifecycle","acceptance_criteria":"- [ ] Unit tests for TTSService class\n- [ ] Tests cover queue management\n- [ ] Tests cover playback controls\n- [ ] Tests cover error scenarios\n- [ ] Test coverage meets \u003e80% for TTS service","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:32:18.565826383Z","created_by":"stiwi","updated_at":"2026-01-10T23:04:49.704613411Z","closed_at":"2026-01-10T23:04:49.704613411Z","close_reason":"Implemented by polecat slit - client TTS service tests added","labels":["client","phase-1","testing","tts"]}
{"id":"reckoning-2fb","title":"Merge: gastown-mk9iih6k","description":"branch: polecat/gastown-mk9iih6k\ntarget: main\nsource_issue: gastown-mk9iih6k\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-gastown\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:13:07.861959619Z","created_by":"reckoning/polecats/gastown","updated_at":"2026-01-11T17:07:43.91115504Z","closed_at":"2026-01-11T17:07:43.91115504Z","close_reason":"Stale MR - branch already merged or cleaned up","labels":["conflict","gt:merge-request"]}
{"id":"reckoning-2g0","title":"P3-4.3: Beat Sequence Editor UI","description":"Replace DM editor with beat sequence editor.\nFiles: packages/client/src/components/beat-editor.ts\nFeatures: collapsible list, drag-drop, color coding, inline edit","status":"closed","priority":1,"issue_type":"task","assignee":"reckoning/polecats/fury","estimated_minutes":180,"created_at":"2026-01-11T07:53:54.921719591Z","created_by":"Admin","updated_at":"2026-01-11T09:19:21.888869992Z","closed_at":"2026-01-11T09:19:21.888869992Z","close_reason":"beat-editor.ts merged to main","labels":["beats","client","phase-3","ui"],"dependencies":[{"issue_id":"reckoning-2g0","depends_on_id":"reckoning-gza","type":"blocks","created_at":"2026-01-11T07:53:54.923030736Z","created_by":"Admin"}]}
{"id":"reckoning-2no","title":"P3-5.3: World Generation UI Flow","description":"Add world generation step after character creation.\nFiles: main.ts, save-load-modal.ts\nFlow: Create player -\u003e Add party -\u003e Generate World -\u003e DM Review -\u003e Begin","status":"closed","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-11T07:54:13.210919408Z","created_by":"Admin","updated_at":"2026-01-11T08:33:18.992532346Z","closed_at":"2026-01-11T08:33:18.992532346Z","close_reason":"MR 7i0 submitted by imperator","labels":["client","phase-3","ui","world-gen"]}
{"id":"reckoning-2vq","title":"C1: Claude CLI Wrapper","description":"Create Claude Code CLI wrapper using subprocess spawn pattern.\n\n## Files to Create\n\n```\npackages/server/src/services/ai/\n‚îú‚îÄ‚îÄ index.ts          # Exports\n‚îú‚îÄ‚îÄ types.ts          # AIProvider interface, error types\n‚îî‚îÄ‚îÄ claude-cli.ts     # ClaudeCodeCLI implementation\n```\n\n## types.ts\n\n```typescript\nimport { Result } from '@reckoning/shared';\n\ninterface AIRequest {\n  prompt: string;\n  systemPrompt?: string;\n  maxTokens?: number;\n}\n\ninterface AIResponse {\n  content: string;\n  durationMs: number;\n}\n\ninterface AIError {\n  code: 'TIMEOUT' | 'UNAVAILABLE' | 'EXECUTION_ERROR' | 'PARSE_ERROR';\n  message: string;\n  retryable: boolean;\n}\n\n// Abstract interface for swappable AI backends\ninterface AIProvider {\n  name: string;\n  execute(request: AIRequest): Promise\u003cResult\u003cAIResponse, AIError\u003e\u003e;\n  isAvailable(): Promise\u003cboolean\u003e;\n}\n```\n\n## claude-cli.ts\n\n```typescript\nimport { spawn } from 'child_process';\n\ninterface ClaudeCLIConfig {\n  timeout?: number;           // Default: 60000ms\n  maxOutputLength?: number;   // Default: 50000 chars\n  cliCommand?: string;        // Default: 'claude'\n}\n\nclass ClaudeCodeCLI implements AIProvider {\n  readonly name = 'claude-cli';\n  private config: Required\u003cClaudeCLIConfig\u003e;\n  \n  constructor(config?: ClaudeCLIConfig);\n  \n  // Execute prompt via CLI subprocess\n  async execute(request: AIRequest): Promise\u003cResult\u003cAIResponse, AIError\u003e\u003e;\n  \n  // Check if claude CLI is available\n  async isAvailable(): Promise\u003cboolean\u003e;\n  \n  // Internal: spawn subprocess and collect output\n  private async spawnClaude(prompt: string): Promise\u003c{ stdout: string; stderr: string; exitCode: number }\u003e;\n}\n```\n\n## Subprocess Implementation\n\n```typescript\nprivate async spawnClaude(prompt: string): Promise\u003c...\u003e {\n  return new Promise((resolve, reject) =\u003e {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() =\u003e controller.abort(), this.config.timeout);\n    \n    // Spawn: claude -p \"prompt\"\n    const proc = spawn(this.config.cliCommand, ['-p', prompt], {\n      signal: controller.signal,\n      shell: true,\n      env: { ...process.env },\n    });\n    \n    let stdout = '';\n    let stderr = '';\n    \n    proc.stdout.on('data', (data) =\u003e {\n      stdout += data.toString();\n      // Truncate if too long\n      if (stdout.length \u003e this.config.maxOutputLength) {\n        proc.kill();\n      }\n    });\n    \n    proc.stderr.on('data', (data) =\u003e {\n      stderr += data.toString();\n    });\n    \n    proc.on('close', (code) =\u003e {\n      clearTimeout(timeoutId);\n      resolve({ stdout, stderr, exitCode: code ?? 0 });\n    });\n    \n    proc.on('error', (err) =\u003e {\n      clearTimeout(timeoutId);\n      reject(err);\n    });\n  });\n}\n```\n\n## isAvailable Check\n\n```typescript\nasync isAvailable(): Promise\u003cboolean\u003e {\n  try {\n    const { exitCode } = await this.spawnClaude('--version');\n    return exitCode === 0;\n  } catch {\n    return false;\n  }\n}\n```\n\n## Error Handling\n\n- TIMEOUT: AbortController triggers after config.timeout\n- UNAVAILABLE: CLI not found or failed to spawn\n- EXECUTION_ERROR: Non-zero exit code\n- PARSE_ERROR: Output couldn't be processed\n\n## Notes\n\n- Use Result type from @reckoning/shared for error handling\n- Log execution time for monitoring\n- Consider streaming output for long generations (future enhancement)","acceptance_criteria":"- [ ] ClaudeCodeCLI class implements AIProvider interface\n- [ ] execute() spawns claude CLI subprocess\n- [ ] Timeout works via AbortController (default 60s)\n- [ ] isAvailable() returns true when claude CLI exists\n- [ ] isAvailable() returns false when CLI not found\n- [ ] Errors return proper AIError with code and retryable flag\n- [ ] Output truncated if exceeds maxOutputLength\n- [ ] Unit tests with mocked child_process\n- [ ] Integration test with actual claude CLI (if available)\n- [ ] Execution time tracked in response","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:24:40.731460008Z","created_by":"stiwi","updated_at":"2026-01-10T23:06:55.267937216Z","closed_at":"2026-01-10T23:06:55.267937216Z","close_reason":"Implemented by polecat dementus - Claude CLI wrapper added","labels":["ai","claude","phase-2","server"],"dependencies":[{"issue_id":"reckoning-2vq","depends_on_id":"reckoning-8jy","type":"blocks","created_at":"2026-01-10T22:24:40.732862009Z","created_by":"unknown"}]}
{"id":"reckoning-2w1n","title":"Merge: road-warrior","description":"branch: polecat/road-warrior-mka02u5x\ntarget: main\nsource_issue: road-warrior\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-road-warrior\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:23:35.772134975Z","created_by":"reckoning/polecats/road-warrior","updated_at":"2026-01-11T17:55:06.840953644Z","closed_at":"2026-01-11T17:55:06.840953644Z","close_reason":"Already merged at acb2660. Branch polecat/road-warrior-mka02u5x was merged previously.","labels":["gt:merge-request"]}
{"id":"reckoning-2xz","title":"Merge: road-warrior","description":"branch: polecat/road-warrior-mk9ily79\ntarget: main\nsource_issue: road-warrior\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-road-warrior\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:16:33.83593917Z","created_by":"reckoning/polecats/road-warrior","updated_at":"2026-01-11T17:07:44.028005289Z","closed_at":"2026-01-11T17:07:44.028005289Z","close_reason":"Stale MR - branch already merged or cleaned up","labels":["conflict","gt:merge-request"],"comments":[{"id":2,"issue_id":"reckoning-2xz","author":"reckoning/refinery","text":"Conflict detected at c976d2d. Complex add/add conflict in area-panel.ts. Notified polecat to rebase and resubmit.","created_at":"2026-01-11T11:43:20Z"}]}
{"id":"reckoning-3bw","title":"C2: Prompt Templates","description":"Create prompt templates for AI content generation.\n\n## Files to Create\n\n```\npackages/server/src/services/ai/prompts/\n‚îú‚îÄ‚îÄ index.ts          # buildPrompt() and exports\n‚îú‚îÄ‚îÄ system.ts         # System prompts establishing DM assistant role\n‚îú‚îÄ‚îÄ scene.ts          # Scene description prompts\n‚îú‚îÄ‚îÄ party.ts          # Party action/dialogue prompts\n‚îú‚îÄ‚îÄ npc.ts            # NPC response prompts\n‚îî‚îÄ‚îÄ environment.ts    # Environment event prompts\n```\n\n## system.ts - Base System Prompt\n\n```typescript\nexport const DM_SYSTEM_PROMPT = `You are an AI assistant helping a human Dungeon Master run \"The Reckoning\" RPG.\n\nYour role:\n- Generate narrative content for the DM to review and edit\n- Suggest party member actions and dialogue\n- Create NPC responses and environmental descriptions\n- Classify your output with the appropriate EventType\n\nThe DM has full editorial control - they may accept, edit, or reject your suggestions.\n\nOutput Format:\nAlways respond with valid JSON in this format:\n{\n  \"eventType\": \"party_action\" | \"party_dialogue\" | \"npc_action\" | \"npc_dialogue\" | \"narration\" | \"environment\",\n  \"content\": \"The narrative text...\",\n  \"speaker\": \"Character name if dialogue, null otherwise\",\n  \"suggestedActions\": [\"Optional array of follow-up options\"]\n}\n\nGuidelines:\n- Be descriptive and atmospheric\n- Stay consistent with established facts\n- Respect character personalities\n- Create opportunities for interesting choices\n- Never break the fourth wall`;\n```\n\n## scene.ts - Scene Description\n\n```typescript\nexport function buildScenePrompt(area: Area, context: { \n  npcs: NPC[]; \n  isFirstVisit: boolean;\n  timeOfDay?: string;\n}): string {\n  return `\nDescribe the scene for the party entering: ${area.name}\n\nLocation Details:\n${area.description}\n\nExits: ${area.exits.map(e =\u003e `${e.direction}: ${e.description}`).join(', ')}\nObjects: ${area.objects.map(o =\u003e o.name).join(', ')}\nNPCs Present: ${context.npcs.map(n =\u003e `${n.name} (${n.disposition})`).join(', ') || 'None'}\n\nFirst visit: ${context.isFirstVisit ? 'Yes' : 'No'}\n${context.timeOfDay ? `Time: ${context.timeOfDay}` : ''}\n\nGenerate an atmospheric description of this location. Use eventType: \"narration\".\n`;\n}\n```\n\n## party.ts - Party Action/Dialogue\n\n```typescript\nexport function buildPartyPrompt(context: {\n  party: Character[];\n  currentArea: Area;\n  recentEvents: CanonicalEvent[];\n  dmGuidance?: string;\n}): string {\n  return `\nGenerate the next party member action or dialogue.\n\nParty Members:\n${context.party.map(c =\u003e `- ${c.name}: ${c.description} (Class: ${c.class})`).join('\\n')}\n\nCurrent Location: ${context.currentArea.name}\n\nRecent Events:\n${formatRecentEvents(context.recentEvents)}\n\n${context.dmGuidance ? `DM Guidance: ${context.dmGuidance}` : ''}\n\nGenerate what a party member does or says next. Be specific about which character.\nUse eventType: \"party_action\" for actions, \"party_dialogue\" for speech.\n`;\n}\n```\n\n## npc.ts - NPC Response\n\n```typescript\nexport function buildNPCPrompt(context: {\n  npc: NPC;\n  triggeringEvent: CanonicalEvent;\n  currentArea: Area;\n  recentEvents: CanonicalEvent[];\n}): string {\n  return `\nGenerate ${context.npc.name}'s response to the party.\n\nNPC: ${context.npc.name}\nDescription: ${context.npc.description}\nDisposition: ${context.npc.disposition}\n\nTriggering Event:\n${context.triggeringEvent.content}\n\nLocation: ${context.currentArea.name}\n\nRecent Context:\n${formatRecentEvents(context.recentEvents)}\n\nGenerate the NPC's reaction - action, dialogue, or both.\nUse eventType: \"npc_action\" for actions, \"npc_dialogue\" for speech.\n`;\n}\n```\n\n## environment.ts - Environment Events\n\n```typescript\nexport function buildEnvironmentPrompt(context: {\n  currentArea: Area;\n  recentEvents: CanonicalEvent[];\n  trigger?: 'time_passage' | 'consequence' | 'random' | 'atmosphere';\n}): string {\n  return `\nGenerate an environmental event or atmospheric detail.\n\nLocation: ${context.currentArea.name}\n${context.currentArea.description}\n\nTags: ${context.currentArea.tags.join(', ')}\n\nTrigger: ${context.trigger || 'atmosphere'}\n\nRecent Events:\n${formatRecentEvents(context.recentEvents)}\n\nGenerate something happening in the environment - sounds, weather, ambient details, or consequences of recent actions.\nUse eventType: \"environment\".\n`;\n}\n```\n\n## index.ts - Prompt Builder\n\n```typescript\nimport { GenerationContext } from '@reckoning/shared';\n\nexport function buildPrompt(context: GenerationContext): string {\n  const systemPrompt = DM_SYSTEM_PROMPT;\n  \n  let userPrompt: string;\n  switch (context.type) {\n    case 'scene_description':\n      userPrompt = buildScenePrompt(...);\n      break;\n    case 'party_action':\n      userPrompt = buildPartyPrompt(...);\n      break;\n    case 'npc_response':\n      userPrompt = buildNPCPrompt(...);\n      break;\n    case 'environment_event':\n      userPrompt = buildEnvironmentPrompt(...);\n      break;\n  }\n  \n  return `${systemPrompt}\\n\\n---\\n\\n${userPrompt}`;\n}\n\n// Helper to format recent events for context\nfunction formatRecentEvents(events: CanonicalEvent[], limit = 10): string;\n```","acceptance_criteria":"- [ ] All prompt template files created\n- [ ] DM_SYSTEM_PROMPT establishes AI assistant role\n- [ ] buildScenePrompt generates scene descriptions\n- [ ] buildPartyPrompt generates party actions/dialogue\n- [ ] buildNPCPrompt generates NPC responses\n- [ ] buildEnvironmentPrompt generates environment events\n- [ ] buildPrompt() routes to correct template based on context.type\n- [ ] Output format instructions request JSON with eventType\n- [ ] formatRecentEvents helper limits and formats history\n- [ ] Unit tests verify prompt structure\n- [ ] Manual test: prompts produce expected AI output format","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:25:08.92012216Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:08.482779999Z","closed_at":"2026-01-11T09:17:08.482779999Z","close_reason":"Prompt templates implemented at packages/server/src/services/ai/prompts/","labels":["ai","phase-2","prompts","server"],"dependencies":[{"issue_id":"reckoning-3bw","depends_on_id":"reckoning-2vq","type":"blocks","created_at":"2026-01-10T22:25:08.921348516Z","created_by":"unknown"}]}
{"id":"reckoning-3re","title":"P3-3.1: Include Party in AI Context","description":"Update ContextBuilder to include party information.\nFiles: packages/server/src/services/ai/context-builder.ts\nFormat party with health status (Healthy/Wounded/Critical)","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-11T07:53:43.606022023Z","created_by":"Admin","updated_at":"2026-01-11T08:24:14.921167927Z","closed_at":"2026-01-11T08:24:14.921169821Z","labels":["ai","context","phase-3","server"],"dependencies":[{"issue_id":"reckoning-3re","depends_on_id":"reckoning-efc","type":"blocks","created_at":"2026-01-11T07:53:43.607576803Z","created_by":"Admin"},{"issue_id":"reckoning-3re","depends_on_id":"reckoning-a33","type":"blocks","created_at":"2026-01-11T07:53:43.608977194Z","created_by":"Admin"}]}
{"id":"reckoning-3x7h","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no branches to merge, inbox clear","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:29:35.755917444Z","updated_at":"2026-01-11T17:29:35.755917444Z","closed_at":"2026-01-11T17:29:35.7558807Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-42l","title":"F1: End-to-End Integration","description":"Wire server and client together for full game loop testing.\n\nIntegration work:\n- Verify SSE events flow from server to client\n- Test full game cycle: generate ‚Üí review ‚Üí edit ‚Üí submit\n- Test save/load functionality end-to-end\n- Test playback controls (auto/pause/step/stop)\n- Verify event persistence across sessions\n\nThis task validates the complete system works together.","acceptance_criteria":"- [ ] Can start new game (AI generates initial content)\n- [ ] AI-generated content appears in DM editor\n- [ ] DM can edit and submit content\n- [ ] Events persist to SQLite and survive restart\n- [ ] SSE events update client in real-time\n- [ ] Save/load works correctly\n- [ ] Playback controls function as expected","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T22:29:46.996807395Z","created_by":"stiwi","updated_at":"2026-01-11T09:18:35.454759731Z","closed_at":"2026-01-11T09:18:35.454759731Z","close_reason":"End-to-end integration covered by Phase 3 work","labels":["integration","phase-2","testing"],"dependencies":[{"issue_id":"reckoning-42l","depends_on_id":"reckoning-9ia","type":"blocks","created_at":"2026-01-10T22:29:46.997965818Z","created_by":"unknown"},{"issue_id":"reckoning-42l","depends_on_id":"reckoning-abi","type":"blocks","created_at":"2026-01-10T22:29:46.999106475Z","created_by":"unknown"}]}
{"id":"reckoning-447","title":"P3-3.3: Party Member TTS Voices","description":"Assign different TTS voices to party members.\nFiles: packages/server/src/services/tts/voice-registry.ts","status":"closed","priority":3,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-11T07:54:13.267522652Z","created_by":"Admin","updated_at":"2026-01-11T08:39:00.137386224Z","closed_at":"2026-01-11T08:39:00.137386224Z","close_reason":"Completed by dinki - TTS voice assignment implemented, branch pushed","labels":["phase-3","polish","server","tts"],"dependencies":[{"issue_id":"reckoning-447","depends_on_id":"reckoning-c7h","type":"blocks","created_at":"2026-01-11T07:54:13.268893624Z","created_by":"Admin"}]}
{"id":"reckoning-4ma","title":"Merge: fury-mk9j46iv","description":"branch: polecat/fury-mk9j46iv\ntarget: main\nsource_issue: fury-mk9j46iv\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:28:16.721019854Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T12:11:06.602638633Z","closed_at":"2026-01-11T12:11:06.602638633Z","close_reason":"Already merged to main as df2d3b0","labels":["gt:merge-request"]}
{"id":"reckoning-4ot","title":"Fix failing TTS route tests","description":"27 server TTS tests are failing due to ioredis mock issue.\n\nThe mock at packages/server/src/routes/__tests__/tts.test.ts:46-47 tries to access Redis.mock.results which is undefined with current vitest mock setup.\n\nError: TypeError: Cannot read properties of undefined (reading 'value')\n\nNeed to fix the mock setup to properly capture the mock Redis instance.","acceptance_criteria":"- [ ] All 27 TTS route tests pass\n- [ ] Mock properly captures Redis instance\n- [ ] No regression in other tests","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-10T22:32:18.487273733Z","created_by":"stiwi","updated_at":"2026-01-10T23:32:19.671501896Z","closed_at":"2026-01-10T23:32:19.671501896Z","close_reason":"Fixed TTS route tests and TypeScript errors. Rewrote tests to match actual implementation. Fixed duplicate SSE type exports in shared package.","labels":["bug","phase-1","testing","tts"],"comments":[{"id":1,"issue_id":"reckoning-4ot","author":"stiwi","text":"Fix was never merged - tests still failing","created_at":"2026-01-10T23:20:09Z"}]}
{"id":"reckoning-4wqi","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ empty, no branches processed, inbox clear","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:31:47.865879969Z","updated_at":"2026-01-11T18:31:47.865879969Z","closed_at":"2026-01-11T18:31:47.865835473Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-51p","title":"Merge: fury-mk9j8szd","description":"branch: polecat/fury-mk9j8szd\ntarget: main\nsource_issue: fury-mk9j8szd\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:30:42.767519469Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T12:01:02.699208665Z","closed_at":"2026-01-11T12:01:02.699208665Z","close_reason":"Work already on main (identical content)","labels":["gt:merge-request"]}
{"id":"reckoning-55c","title":"Merge: interceptor-mk9imx0f","description":"branch: polecat/interceptor-mk9imx0f\ntarget: main\nsource_issue: interceptor-mk9imx0f\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-interceptor\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:24:43.250629872Z","created_by":"reckoning/polecats/interceptor","updated_at":"2026-01-11T17:07:44.063106761Z","closed_at":"2026-01-11T17:07:44.063106761Z","close_reason":"Stale MR - branch already merged or cleaned up","labels":["gt:merge-request"]}
{"id":"reckoning-5h9","title":"Merge: nux-mk8wcym9","description":"branch: polecat/nux-mk8wcym9\ntarget: main\nsource_issue: nux-mk8wcym9\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:56:35.43383307Z","created_by":"reckoning/polecats/nux","updated_at":"2026-01-11T08:01:47.288374789Z","closed_at":"2026-01-11T08:01:47.288374789Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-5vy","title":"Merge: rictus-mk99uzaf","description":"branch: polecat/rictus-mk99uzaf\ntarget: main\nsource_issue: rictus-mk99uzaf\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T05:12:50.083043252Z","created_by":"reckoning/polecats/rictus","updated_at":"2026-01-11T08:01:28.041484759Z","closed_at":"2026-01-11T08:01:28.041484759Z","close_reason":"Duplicate - already merged as h9g","labels":["gt:merge-request"]}
{"id":"reckoning-5yg","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-11T09:10:46.352028417Z","created_by":"Admin","updated_at":"2026-01-11T09:10:46.352028417Z"}
{"id":"reckoning-62lj","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no branches to merge","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T13:04:20.775487336Z","updated_at":"2026-01-11T13:04:20.775487336Z","closed_at":"2026-01-11T13:04:20.775446627Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-678","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-11T09:10:46.425821575Z","created_by":"Admin","updated_at":"2026-01-11T09:10:46.425821575Z"}
{"id":"reckoning-6gf","title":"Merge: fury-mk9jbujz","description":"branch: polecat/fury-mk9jbujz\ntarget: main\nsource_issue: fury-mk9jbujz\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:32:48.501387701Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T10:09:18.506426836Z","closed_at":"2026-01-11T10:09:18.506426836Z","close_reason":"Duplicate: same content already merged as df2d3b0","labels":["gt:merge-request"]}
{"id":"reckoning-6pkp","title":"Merge: fury-mk9zjw6f","description":"branch: polecat/fury-mk9zjw6f\ntarget: main\nsource_issue: fury-mk9zjw6f\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:10:36.592035641Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T17:48:48.603632719Z","closed_at":"2026-01-11T17:48:48.603632719Z","close_reason":"Already merged to main (commits previously applied)","labels":["gt:merge-request"]}
{"id":"reckoning-6yk","title":"P3-6.1: Update Demo Script","description":"Update demo script to showcase Phase 3 features.\nFiles: scripts/demo.ts\nDemo: Party creation, world gen, beat editor, TTS with speech bubbles","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-11T07:54:13.298985772Z","created_by":"Admin","updated_at":"2026-01-11T08:32:08.557965533Z","closed_at":"2026-01-11T08:32:08.557968882Z","labels":["demo","integration","phase-3","validation"],"dependencies":[{"issue_id":"reckoning-6yk","depends_on_id":"reckoning-uxm","type":"blocks","created_at":"2026-01-11T07:54:13.300269256Z","created_by":"Admin"},{"issue_id":"reckoning-6yk","depends_on_id":"reckoning-j2n","type":"blocks","created_at":"2026-01-11T07:54:13.301404205Z","created_by":"Admin"}]}
{"id":"reckoning-70mn","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no branches to process","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T13:15:56.036489797Z","updated_at":"2026-01-11T13:15:56.036489797Z","closed_at":"2026-01-11T13:15:56.036454384Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-7el","title":"E3: Client State Management","description":"Create client-side state management synced with SSE events.\n\n## Files to Create\n\n```\npackages/client/src/state/\n‚îú‚îÄ‚îÄ index.ts          # Exports\n‚îú‚îÄ‚îÄ game-state.ts     # GameStateManager class\n‚îî‚îÄ‚îÄ types.ts          # State types\n```\n\n## State Shape\n\n```typescript\ninterface ClientGameState {\n  // Connection\n  connected: boolean;\n  gameId: string | null;\n  \n  // Game data\n  session: GameSession | null;\n  editorState: DMEditorState | null;\n  pendingContent: GeneratedContent | null;\n  \n  // System status\n  systemStatus: SystemStatus | null;\n  observation: GameObservation | null;\n  \n  // UI state\n  isLoading: boolean;\n  error: string | null;\n  \n  // Narrative history (for display)\n  narrativeHistory: NarrativeEntry[];\n}\n\ninterface NarrativeEntry {\n  id: string;\n  type: EventType;\n  content: string;\n  speaker?: string;\n  timestamp: Date;\n  isTTSPlaying?: boolean;\n}\n```\n\n## GameStateManager\n\n```typescript\ntype StateListener = (state: ClientGameState) =\u003e void;\n\nclass GameStateManager {\n  private state: ClientGameState;\n  private listeners: Set\u003cStateListener\u003e = new Set();\n  private sseService: SSEService;\n  private gameService: GameService;\n  \n  constructor(sseService: SSEService, gameService: GameService);\n  \n  // Get current state (immutable)\n  getState(): Readonly\u003cClientGameState\u003e;\n  \n  // Subscribe to state changes\n  subscribe(listener: StateListener): () =\u003e void;\n  \n  // Initialize with a game\n  async initGame(gameId: string): Promise\u003cvoid\u003e;\n  \n  // Start new game\n  async startNewGame(playerName: string, description?: string): Promise\u003cvoid\u003e;\n  \n  // Load saved game\n  async loadSavedGame(slotId: string): Promise\u003cvoid\u003e;\n  \n  // Clear current game\n  clearGame(): void;\n  \n  // Actions (delegate to GameService, update state)\n  async submitContent(action: DMAction): Promise\u003cvoid\u003e;\n  async regenerateContent(feedback?: string): Promise\u003cvoid\u003e;\n  async injectContent(content: string, eventType: EventType): Promise\u003cvoid\u003e;\n  async triggerNext(options?: { type?: string; dmGuidance?: string }): Promise\u003cvoid\u003e;\n  async setPlaybackMode(mode: PlaybackMode): Promise\u003cvoid\u003e;\n  async saveGame(name: string): Promise\u003cvoid\u003e;\n  \n  // Update editor (local + server sync)\n  async updateEditorContent(content: string): Promise\u003cvoid\u003e;\n}\n```\n\n## SSE Event Handling\n\n```typescript\nprivate setupSSEHandlers(): void {\n  this.sseService.on('state_changed', (event) =\u003e {\n    this.updateState({ session: { ...this.state.session, state: event.state } });\n  });\n  \n  this.sseService.on('generation_started', (event) =\u003e {\n    this.updateState({ \n      isLoading: true,\n      systemStatus: {\n        ...this.state.systemStatus,\n        ai: { status: 'generating' }\n      }\n    });\n  });\n  \n  this.sseService.on('generation_complete', (event) =\u003e {\n    this.updateState({\n      isLoading: false,\n      pendingContent: event.content,\n      editorState: {\n        pending: event.content,\n        editedContent: event.content.content,\n        status: 'reviewing'\n      },\n      systemStatus: {\n        ...this.state.systemStatus,\n        ai: { status: 'idle', lastGenerationMs: event.durationMs }\n      }\n    });\n  });\n  \n  this.sseService.on('generation_error', (event) =\u003e {\n    this.updateState({\n      isLoading: false,\n      error: event.error,\n      systemStatus: {\n        ...this.state.systemStatus,\n        ai: { status: 'error', errorMessage: event.error }\n      }\n    });\n  });\n  \n  this.sseService.on('editor_state', (event) =\u003e {\n    this.updateState({ editorState: event.editorState });\n  });\n  \n  this.sseService.on('tts_started', (event) =\u003e {\n    // Mark narrative entry as playing\n    this.markTTSPlaying(event.eventId, true);\n  });\n  \n  this.sseService.on('tts_complete', (event) =\u003e {\n    this.markTTSPlaying(event.eventId, false);\n  });\n}\n```\n\n## State Updates\n\n```typescript\nprivate updateState(partial: Partial\u003cClientGameState\u003e): void {\n  this.state = { ...this.state, ...partial };\n  this.notifyListeners();\n}\n\nprivate notifyListeners(): void {\n  const state = this.getState();\n  this.listeners.forEach(listener =\u003e {\n    try {\n      listener(state);\n    } catch (error) {\n      console.error('[State] Listener error:', error);\n    }\n  });\n}\n```\n\n## Narrative History Management\n\n```typescript\naddToNarrativeHistory(event: CanonicalEvent): void {\n  const entry: NarrativeEntry = {\n    id: event.id,\n    type: event.eventType,\n    content: event.content,\n    speaker: event.speaker,\n    timestamp: new Date(event.timestamp),\n  };\n  \n  this.updateState({\n    narrativeHistory: [...this.state.narrativeHistory, entry]\n  });\n}\n```\n\n## Singleton Export\n\n```typescript\n// Create singleton with injected services\nexport function createGameStateManager(\n  sseService: SSEService,\n  gameService: GameService\n): GameStateManager;\n\n// For direct import after initialization\nexport let gameStateManager: GameStateManager;\n```","acceptance_criteria":"- [ ] GameStateManager class created\n- [ ] State shape includes all necessary fields\n- [ ] subscribe() notifies listeners on state change\n- [ ] SSE events update state correctly\n- [ ] generation_started sets loading state\n- [ ] generation_complete updates pending content\n- [ ] generation_error sets error state\n- [ ] state_changed updates session\n- [ ] editor_state syncs editor\n- [ ] tts_started/complete updates narrative entries\n- [ ] Actions delegate to GameService and update state\n- [ ] Narrative history maintained\n- [ ] Unit tests for state transitions\n- [ ] Unit tests for SSE event handling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:27:32.001502866Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:25.668489136Z","closed_at":"2026-01-11T09:17:25.668489136Z","close_reason":"Client state management implemented at packages/client/src/state/","labels":["client","phase-2","state"],"dependencies":[{"issue_id":"reckoning-7el","depends_on_id":"reckoning-dtf","type":"blocks","created_at":"2026-01-10T22:27:32.002659831Z","created_by":"unknown"},{"issue_id":"reckoning-7el","depends_on_id":"reckoning-fdi","type":"blocks","created_at":"2026-01-10T22:27:32.003749865Z","created_by":"unknown"}]}
{"id":"reckoning-7i0","title":"Merge: imperator-mk9g6oaz","description":"branch: polecat/imperator-mk9g6oaz\ntarget: main\nsource_issue: imperator-mk9g6oaz\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-imperator\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:33:11.143959914Z","created_by":"reckoning/polecats/imperator","updated_at":"2026-01-11T08:33:29.337863733Z","closed_at":"2026-01-11T08:33:29.337863733Z","close_reason":"Duplicate - already merged as 969f433","labels":["gt:merge-request"]}
{"id":"reckoning-7m5","title":"Merge: prime-mk9ief8r","description":"branch: polecat/prime-mk9ief8r\ntarget: main\nsource_issue: prime-mk9ief8r\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-prime\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:13:39.067081781Z","created_by":"reckoning/polecats/prime","updated_at":"2026-01-11T17:07:43.945223556Z","closed_at":"2026-01-11T17:07:43.945223556Z","close_reason":"Stale MR - branch already merged or cleaned up","labels":["conflict","gt:merge-request"]}
{"id":"reckoning-82m","title":"Merge: slit-mk99s820","description":"branch: polecat/slit-mk99s820\ntarget: main\nsource_issue: slit-mk99s820\nrig: reckoning\nagent_bead: hq-mayor\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T05:29:19.829810067Z","created_by":"mayor","updated_at":"2026-01-11T08:01:20.315733526Z","closed_at":"2026-01-11T08:01:20.315733526Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-89b","title":"Merge: furiosa-mk8xd4y8","description":"branch: polecat/furiosa-mk8xd4y8\ntarget: main\nsource_issue: furiosa-mk8xd4y8\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:22:34.352273472Z","created_by":"reckoning/polecats/furiosa","updated_at":"2026-01-11T08:01:45.522745214Z","closed_at":"2026-01-11T08:01:45.522745214Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-89r","title":"Merge: rictus-mk8wpa7y","description":"branch: polecat/rictus-mk8wpa7y\ntarget: main\nsource_issue: rictus-mk8wpa7y\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:05:31.671011853Z","created_by":"reckoning/polecats/rictus","updated_at":"2026-01-11T08:01:46.968825978Z","closed_at":"2026-01-11T08:01:46.968825978Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-8jy","title":"A1: Shared Game Types","description":"Create @reckoning/shared/src/game/ with all Phase 2 types.\n\n## Files to Create\n\n```\npackages/shared/src/game/\n‚îú‚îÄ‚îÄ index.ts          # Re-exports all game types\n‚îú‚îÄ‚îÄ types.ts          # GameState, GameSession, Area, AreaExit, AreaObject, Party, Character, NPC\n‚îú‚îÄ‚îÄ events.ts         # CanonicalEvent, EventType, SSEEvent union type\n‚îú‚îÄ‚îÄ generation.ts     # GeneratedContent, GenerationContext, ContentGenerator interface, ContextBuilder interface  \n‚îú‚îÄ‚îÄ dm.ts             # DMEditorState, DMAction discriminated union, PlaybackMode\n‚îî‚îÄ‚îÄ status.ts         # SystemStatus, GameObservation\n```\n\n## Key Types\n\n### types.ts\n- `GameState`: id, playerId, currentAreaId, turn, timestamps\n- `GameSession`: state + player + currentArea + recentEvents\n- `Area`: id, name, description, exits[], objects[], npcs[], tags[]\n- `AreaExit`: direction, targetAreaId, description, locked?\n- `AreaObject`: id, name, description, interactable, tags[]\n- `Party`: id, gameId, members[]\n- `Character`: id, name, description, class, stats\n- `NPC`: id, name, description, currentAreaId, disposition, tags[]\n\n### events.ts\n- `EventType`: 'narration' | 'party_action' | 'party_dialogue' | 'npc_action' | 'npc_dialogue' | 'environment' | 'dm_injection'\n- `CanonicalEvent`: id, gameId, turn, timestamp, eventType, content, originalGenerated?, speaker?, locationId, witnesses[]\n- `SSEEvent`: Discriminated union for generation_started, generation_complete, generation_error, state_changed, tts_started, tts_complete, editor_state\n\n### generation.ts\n- `GenerationContext`: type, gameState, recentHistory[], historyContext?, dmGuidance?\n- `GeneratedContent`: id, generationType, eventType, content, metadata{speaker?, suggestedActions?}\n- `ContentGenerator`: interface with generate() and regenerate() methods\n- `ContextBuilder`: interface with build() and optional summarizeHistory()\n\n### dm.ts\n- `DMEditorState`: pending, editedContent, status\n- `DMAction`: ACCEPT | EDIT | REGENERATE | INJECT discriminated union\n- `PlaybackMode`: 'auto' | 'paused' | 'stepping' | 'stopped'\n\n### status.ts\n- `SystemStatus`: ai{status, lastGenerationMs?, errorMessage?}, tts{status, queueLength}, db{status, lastSyncAt?}\n- `GameObservation`: turn, totalEvents, eventsThisTurn, currentLocation, partySize, npcsPresent, sessionDuration\n\n## References\n- See docs/plan/phase-2-dm-engine.md for full type definitions\n- Follow existing patterns in packages/shared/src/tts/","acceptance_criteria":"- [ ] All files created in packages/shared/src/game/\n- [ ] All interfaces have JSDoc comments explaining purpose\n- [ ] game/index.ts re-exports all types\n- [ ] packages/shared/src/index.ts exports game types\n- [ ] package.json updated with ./game subpath export\n- [ ] pnpm --filter @reckoning/shared build succeeds\n- [ ] Types importable: import { GameState, CanonicalEvent, SSEEvent } from '@reckoning/shared'\n- [ ] No TypeScript errors in strict mode","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-10T22:23:19.044342964Z","created_by":"stiwi","updated_at":"2026-01-10T22:57:39.95259162Z","closed_at":"2026-01-10T22:57:39.95259162Z","close_reason":"Implemented by polecat nux - all shared game types created","labels":["foundation","phase-2","types"]}
{"id":"reckoning-8qs","title":"Merge: fury-mk9iw37t","description":"branch: polecat/fury-mk9iw37t\ntarget: main\nsource_issue: fury-mk9iw37t\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:21:41.008580172Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T09:29:11.257067125Z","closed_at":"2026-01-11T09:29:11.257067125Z","close_reason":"Closed","labels":["gt:merge-request"]}
{"id":"reckoning-8sw","title":"Merge: vuvalini-mk9if9xf","description":"branch: polecat/vuvalini-mk9if9xf\ntarget: main\nsource_issue: vuvalini-mk9if9xf\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-vuvalini\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:15:21.395694511Z","created_by":"reckoning/polecats/vuvalini","updated_at":"2026-01-11T17:07:43.988641904Z","closed_at":"2026-01-11T17:07:43.988641904Z","close_reason":"Stale MR - branch already merged or cleaned up","labels":["conflict","gt:merge-request"]}
{"id":"reckoning-8ux","title":"D1: Game Engine Core","description":"Create game engine that orchestrates the content generation and game loop.\n\n## Files to Create\n\n```\npackages/server/src/services/game-engine/\n‚îú‚îÄ‚îÄ index.ts              # GameEngine class and exports\n‚îú‚îÄ‚îÄ content-pipeline.ts   # Generate ‚Üí Review ‚Üí Submit pipeline\n‚îú‚îÄ‚îÄ event-loop.ts         # Playback control logic\n‚îî‚îÄ‚îÄ state-manager.ts      # State transition management\n```\n\n## GameEngine (index.ts)\n\n```typescript\nimport { \n  GameState, GeneratedContent, CanonicalEvent, \n  DMAction, PlaybackMode, SSEEvent \n} from '@reckoning/shared';\nimport { BroadcastManager } from '../sse';\nimport { ContentPipeline } from './content-pipeline';\nimport { EventLoop } from './event-loop';\nimport { StateManager } from './state-manager';\n\nclass GameEngine {\n  private pipeline: ContentPipeline;\n  private eventLoop: EventLoop;\n  private stateManager: StateManager;\n  private broadcaster: BroadcastManager;\n  \n  constructor(db: Database, aiProvider: AIProvider, broadcaster: BroadcastManager);\n  \n  // Start a new game\n  async startGame(playerName: string): Promise\u003cGameState\u003e;\n  \n  // Load existing game\n  async loadGame(gameId: string): Promise\u003cGameState\u003e;\n  \n  // Generate next content (triggers AI)\n  async generateNext(gameId: string, options?: {\n    type?: GenerationContext['type'];\n    dmGuidance?: string;\n  }): Promise\u003cvoid\u003e;  // Result delivered via SSE\n  \n  // Submit DM-approved content\n  async submit(gameId: string, action: DMAction): Promise\u003cCanonicalEvent\u003e;\n  \n  // Request regeneration\n  async regenerate(gameId: string, feedback?: string): Promise\u003cvoid\u003e;\n  \n  // Inject DM-authored content\n  async inject(gameId: string, content: string, eventType: EventType): Promise\u003cCanonicalEvent\u003e;\n  \n  // Playback control\n  async setPlaybackMode(gameId: string, mode: PlaybackMode): Promise\u003cvoid\u003e;\n  getPlaybackMode(gameId: string): PlaybackMode;\n  \n  // Get current pending content (if any)\n  getPendingContent(gameId: string): GeneratedContent | null;\n  \n  // Get editor state\n  getEditorState(gameId: string): DMEditorState;\n  \n  // Update editor state (for persistence across refreshes)\n  async updateEditorState(gameId: string, state: Partial\u003cDMEditorState\u003e): Promise\u003cvoid\u003e;\n}\n```\n\n## ContentPipeline (content-pipeline.ts)\n\n```typescript\nclass ContentPipeline {\n  constructor(\n    private contextBuilder: ContextBuilder,\n    private aiProvider: AIProvider,\n    private promptBuilder: typeof buildPrompt\n  );\n  \n  // Generate content and return result\n  async generate(gameId: string, type: GenerationContext['type'], options?: {\n    dmGuidance?: string;\n  }): Promise\u003cResult\u003cGeneratedContent, AIError\u003e\u003e;\n  \n  // Parse AI response into GeneratedContent\n  private parseResponse(response: string): GeneratedContent;\n}\n```\n\n## EventLoop (event-loop.ts)\n\n```typescript\nclass EventLoop {\n  private playbackModes: Map\u003cstring, PlaybackMode\u003e;  // gameId -\u003e mode\n  private pendingGenerations: Map\u003cstring, Promise\u003cvoid\u003e\u003e;  // gameId -\u003e generation promise\n  \n  constructor(private engine: GameEngine);\n  \n  // Set playback mode for a game\n  setMode(gameId: string, mode: PlaybackMode): void;\n  getMode(gameId: string): PlaybackMode;\n  \n  // Called after submit - decides whether to auto-advance\n  async onSubmit(gameId: string): Promise\u003cvoid\u003e;\n  \n  // Manual step (for stepping mode)\n  async step(gameId: string): Promise\u003cvoid\u003e;\n  \n  // Stop current generation\n  async stop(gameId: string): Promise\u003cvoid\u003e;\n}\n```\n\n## StateManager (state-manager.ts)\n\n```typescript\nclass StateManager {\n  constructor(\n    private gameRepo: GameRepository,\n    private eventRepo: EventRepository,\n    private editorRepo: EditorStateRepository,\n    private broadcaster: BroadcastManager\n  );\n  \n  // Create event and update game state\n  async commitEvent(gameId: string, event: Omit\u003cCanonicalEvent, 'id' | 'timestamp'\u003e): Promise\u003cCanonicalEvent\u003e;\n  \n  // Update editor state and broadcast\n  async updateEditorState(gameId: string, state: DMEditorState): Promise\u003cvoid\u003e;\n  \n  // Increment turn\n  async incrementTurn(gameId: string): Promise\u003cnumber\u003e;\n  \n  // Broadcast state change\n  broadcastStateChange(gameId: string, state: GameState): void;\n}\n```\n\n## Flow Example\n\n```\n1. Client calls POST /next\n2. GameEngine.generateNext():\n   a. Broadcast 'generation_started'\n   b. ContentPipeline.generate() calls AI\n   c. Store pending content in EditorState\n   d. Broadcast 'generation_complete'\n   \n3. Client displays content in DM Editor\n\n4. DM clicks Accept\n5. Client calls POST /submit with ACCEPT action\n6. GameEngine.submit():\n   a. Create CanonicalEvent from pending content\n   b. StateManager.commitEvent() saves to DB\n   c. Broadcast 'state_changed'\n   d. Queue TTS playback\n   e. If auto mode, trigger generateNext()\n```\n\n## Notes\n\n- All SSE broadcasts happen through BroadcastManager\n- Pending content stored in EditorStateRepository (survives refresh)\n- Playback mode per-game, not global\n- Error handling broadcasts 'generation_error' event","acceptance_criteria":"- [ ] GameEngine class created with all methods\n- [ ] ContentPipeline generates content via AI provider\n- [ ] AI response parsed into GeneratedContent with eventType\n- [ ] EventLoop manages playback modes (auto/paused/stepping/stopped)\n- [ ] StateManager commits events and broadcasts changes\n- [ ] Pending content stored in EditorStateRepository\n- [ ] SSE events broadcast at each stage\n- [ ] Auto-advance works in auto mode\n- [ ] Step mode generates one then pauses\n- [ ] Unit tests for each component\n- [ ] Integration test for full generate‚Üísubmit flow","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:26:00.756070407Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:19.619771494Z","closed_at":"2026-01-11T09:17:19.619771494Z","close_reason":"Game engine core implemented at packages/server/src/services/game-engine/","labels":["engine","phase-2","server"],"dependencies":[{"issue_id":"reckoning-8ux","depends_on_id":"reckoning-hbj","type":"blocks","created_at":"2026-01-10T22:26:00.757383764Z","created_by":"unknown"},{"issue_id":"reckoning-8ux","depends_on_id":"reckoning-l3e","type":"blocks","created_at":"2026-01-10T22:26:00.75876873Z","created_by":"unknown"}]}
{"id":"reckoning-8zb","title":"Add client-server API integration tests to catch endpoint mismatches","description":"## Problem\n\nWe had three endpoint mismatches between client and server that weren't caught until runtime:\n- Client called `POST /api/game` but server expected `POST /api/game/new`\n- Client called `GET /api/game/saves` but server expected `GET /api/game/list`\n- Client called `PUT /api/game/:id/playback` but server expected `POST /api/game/:id/control`\n\nThese types of errors should be caught by automated tests.\n\n## Proposed Solution\n\nAdd integration tests that:\n1. Start the actual server (or use supertest with the Fastify app)\n2. Import and use the client's GameService class\n3. Exercise all client methods against the real server endpoints\n4. Verify request/response shapes match expectations\n\n## Test Cases Needed\n\n- `newGame()` - creates game successfully\n- `getSession()` - retrieves game state\n- `listSaves()` - lists saved games\n- `saveGame()` / `loadGame()` - save/load cycle works\n- `setPlaybackMode()` - control endpoint works\n- `submit()` / `regenerate()` / `inject()` - DM actions work\n- `getPending()` / `updateEditor()` - editor state sync works\n\n## Acceptance Criteria\n\n- [ ] Integration test suite that runs client against server\n- [ ] All GameService methods have corresponding test coverage\n- [ ] Tests run as part of `just test`\n- [ ] CI would have caught the endpoint mismatches we fixed","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T06:11:11.443992301Z","created_by":"stiwi","updated_at":"2026-01-11T06:11:11.443992301Z"}
{"id":"reckoning-9gfq","title":"Merge: warboy-mk9g6apd","description":"branch: polecat/warboy-mk9g6apd\ntarget: main\nsource_issue: warboy-mk9g6apd\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-warboy\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:16:56.514016479Z","created_by":"reckoning/polecats/warboy","updated_at":"2026-01-11T17:58:40.829561763Z","closed_at":"2026-01-11T17:58:40.829561763Z","close_reason":"Merged to main: 5bfaf08","labels":["gt:merge-request"]}
{"id":"reckoning-9ia","title":"D2: Game API Routes","description":"Create Fastify routes for game API endpoints.\n\n## Files to Create\n\n```\npackages/server/src/routes/\n‚îî‚îÄ‚îÄ game.ts    # All game-related routes\n```\n\n## Route Definitions\n\n### POST /api/game/new\nCreate a new game session.\n\n```typescript\n// Request\n{ playerName: string; playerDescription?: string }\n\n// Response\n{ gameId: string; session: GameSession }\n\n// Actions:\n// 1. Create player\n// 2. Create game with starter area\n// 3. Generate initial scene description\n// 4. Return session\n```\n\n### GET /api/game/list\nList saved games.\n\n```typescript\n// Response\n{ saves: SaveSlot[] }\n```\n\n### GET /api/game/:id\nGet current game state.\n\n```typescript\n// Response\n{ session: GameSession; editorState: DMEditorState }\n```\n\n### POST /api/game/:id/save\nSave game to slot.\n\n```typescript\n// Request\n{ name: string }\n\n// Response\n{ slot: SaveSlot }\n```\n\n### POST /api/game/:id/load\nLoad game from slot.\n\n```typescript\n// Request\n{ slotId: string }\n\n// Response\n{ session: GameSession }\n\n// Also broadcasts state_changed via SSE\n```\n\n### GET /api/game/:id/events (SSE)\nSubscribe to real-time events.\n\n```typescript\n// Response: text/event-stream\n// Events: generation_started, generation_complete, generation_error,\n//         state_changed, tts_started, tts_complete, editor_state, heartbeat\n```\n\n### GET /api/game/:id/pending\nGet pending generated content.\n\n```typescript\n// Response\n{ pending: GeneratedContent | null; editorState: DMEditorState }\n```\n\n### PUT /api/game/:id/editor\nUpdate editor state.\n\n```typescript\n// Request\n{ editedContent?: string; status?: DMEditorState['status'] }\n\n// Response\n{ editorState: DMEditorState }\n\n// Also broadcasts editor_state via SSE\n```\n\n### POST /api/game/:id/submit\nSubmit DM-approved content.\n\n```typescript\n// Request\n{ action: DMAction }\n// DMAction = { type: 'ACCEPT' } \n//          | { type: 'EDIT', content: string }\n\n// Response\n{ event: CanonicalEvent; session: GameSession }\n\n// Also broadcasts state_changed via SSE\n```\n\n### POST /api/game/:id/regenerate\nRequest AI regeneration.\n\n```typescript\n// Request\n{ feedback?: string }\n\n// Response\n{ status: 'generating' }\n\n// Result delivered via SSE generation_complete\n```\n\n### POST /api/game/:id/inject\nInject DM-authored content.\n\n```typescript\n// Request\n{ content: string; eventType: EventType; speaker?: string }\n\n// Response\n{ event: CanonicalEvent; session: GameSession }\n```\n\n### POST /api/game/:id/next\nTrigger next content generation.\n\n```typescript\n// Request\n{ type?: GenerationContext['type']; dmGuidance?: string }\n\n// Response\n{ status: 'generating' }\n\n// Result delivered via SSE generation_complete\n```\n\n### POST /api/game/:id/control\nSet playback mode.\n\n```typescript\n// Request\n{ mode: PlaybackMode }  // 'auto' | 'paused' | 'stepping' | 'stopped'\n\n// Response\n{ mode: PlaybackMode }\n```\n\n### GET /api/game/:id/status\nGet system status and game stats.\n\n```typescript\n// Response\n{ \n  system: SystemStatus;\n  observation: GameObservation;\n}\n```\n\n## Request Validation Schemas\n\nUse Fastify JSON Schema validation for all routes:\n\n```typescript\nconst newGameSchema = {\n  body: {\n    type: 'object',\n    required: ['playerName'],\n    properties: {\n      playerName: { type: 'string', minLength: 1, maxLength: 50 },\n      playerDescription: { type: 'string', maxLength: 500 },\n    },\n  },\n};\n```\n\n## Error Responses\n\n```typescript\n// Standard error format\n{\n  error: {\n    code: string;      // e.g., 'GAME_NOT_FOUND', 'INVALID_REQUEST'\n    message: string;\n    retryable?: boolean;\n  }\n}\n\n// HTTP status codes:\n// 400 - Invalid request\n// 404 - Game/resource not found\n// 500 - Internal error\n// 503 - AI unavailable\n```\n\n## SSE Endpoint Implementation\n\n```typescript\nfastify.get('/:id/events', async (request, reply) =\u003e {\n  const { id } = request.params;\n  \n  // Verify game exists\n  const game = gameRepo.findById(id);\n  if (\\!game) return reply.status(404).send({ error: { code: 'GAME_NOT_FOUND' } });\n  \n  // Set up SSE\n  setupSSEResponse(reply);\n  \n  // Subscribe to broadcasts\n  const clientId = broadcastManager.subscribe(id, reply.raw);\n  \n  // Send initial state\n  broadcastManager.send(clientId, {\n    type: 'state_changed',\n    state: game\n  });\n  \n  // Handle disconnect\n  request.raw.on('close', () =\u003e {\n    broadcastManager.unsubscribe(id, clientId);\n  });\n  \n  // Don't end the response - keep it open for SSE\n  return reply;\n});\n```","acceptance_criteria":"- [ ] All 14 routes implemented\n- [ ] POST /new creates game and returns session\n- [ ] GET /list returns saved games\n- [ ] GET /:id returns current session\n- [ ] POST /:id/save saves game state\n- [ ] POST /:id/load restores game state\n- [ ] GET /:id/events streams SSE correctly\n- [ ] GET /:id/pending returns pending content\n- [ ] PUT /:id/editor updates and broadcasts editor state\n- [ ] POST /:id/submit creates event and broadcasts\n- [ ] POST /:id/regenerate triggers AI and returns via SSE\n- [ ] POST /:id/inject creates DM event\n- [ ] POST /:id/next triggers generation\n- [ ] POST /:id/control sets playback mode\n- [ ] GET /:id/status returns system status\n- [ ] Request validation with JSON schemas\n- [ ] Error responses follow standard format\n- [ ] Integration tests for each route\n- [ ] SSE endpoint tested with curl","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:26:27.190919798Z","created_by":"stiwi","updated_at":"2026-01-11T09:18:11.654524567Z","closed_at":"2026-01-11T09:18:11.654524567Z","close_reason":"Game API routes implemented at packages/server/src/routes/game.ts","labels":["api","phase-2","routes","server"],"dependencies":[{"issue_id":"reckoning-9ia","depends_on_id":"reckoning-8ux","type":"blocks","created_at":"2026-01-10T22:26:27.192511839Z","created_by":"unknown"},{"issue_id":"reckoning-9ia","depends_on_id":"reckoning-9vu","type":"blocks","created_at":"2026-01-10T22:26:27.193692534Z","created_by":"unknown"}]}
{"id":"reckoning-9o8b","title":"Digest: mol-refinery-patrol","description":"Patrol: resolved TTS conflict (duplicate speakSequence), rebased road-warrior branch, tests pass (443), queue empty","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T10:14:47.938746598Z","updated_at":"2026-01-11T10:14:47.938746598Z","closed_at":"2026-01-11T10:14:47.938703393Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-9pv","title":"Merge: scrotus-mk9gx9lv","description":"branch: polecat/scrotus-mk9gx9lv\ntarget: main\nsource_issue: scrotus-mk9gx9lv\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-scrotus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:31:27.485544862Z","created_by":"reckoning/polecats/scrotus","updated_at":"2026-01-11T08:32:50.931276015Z","closed_at":"2026-01-11T08:32:50.931276015Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-9t17","title":"Digest: mol-refinery-patrol","description":"Patrol cycle: MQ empty, no branches to process, no messages","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T13:42:55.767565282Z","updated_at":"2026-01-11T13:42:55.767565282Z","closed_at":"2026-01-11T13:42:55.767528805Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-9vu","title":"B3: SSE Broadcast Service","description":"Create Server-Sent Events broadcast service for real-time client updates.\n\n## Files to Create\n\n```\npackages/server/src/services/sse/\n‚îú‚îÄ‚îÄ index.ts              # Exports\n‚îú‚îÄ‚îÄ broadcast-manager.ts  # Connection and broadcast management\n‚îî‚îÄ‚îÄ types.ts              # Internal types\n```\n\n## BroadcastManager\n\n```typescript\ninterface SSEClient {\n  id: string;\n  gameId: string;\n  response: FastifyReply;\n  connectedAt: Date;\n}\n\nclass BroadcastManager {\n  private clients: Map\u003cstring, Set\u003cSSEClient\u003e\u003e;  // gameId -\u003e clients\n  private heartbeatInterval: NodeJS.Timeout;\n  \n  constructor();\n  \n  // Subscribe a client to game events\n  subscribe(gameId: string, response: FastifyReply): string;  // Returns clientId\n  \n  // Unsubscribe a client\n  unsubscribe(gameId: string, clientId: string): void;\n  \n  // Broadcast event to all clients of a game\n  broadcast(gameId: string, event: SSEEvent): void;\n  \n  // Send event to specific client\n  send(clientId: string, event: SSEEvent): void;\n  \n  // Get connected client count for a game\n  getClientCount(gameId: string): number;\n  \n  // Start heartbeat timer (call on server start)\n  startHeartbeat(intervalMs?: number): void;\n  \n  // Stop heartbeat timer (call on server shutdown)\n  stopHeartbeat(): void;\n  \n  // Cleanup all connections for a game\n  cleanup(gameId: string): void;\n}\n\n// Singleton export\nexport const broadcastManager: BroadcastManager;\n```\n\n## SSE Event Format\n\nEvents sent as:\n```\nevent: \u003cevent_type\u003e\ndata: \u003cjson_payload\u003e\n\n```\n\nExample:\n```\nevent: generation_complete\ndata: {\"id\":\"abc\",\"content\":\"Marcus steps forward...\",\"eventType\":\"party_action\"}\n\n```\n\n## SSEEvent Types (from shared)\n\n```typescript\ntype SSEEvent =\n  | { type: 'generation_started'; contentType: string }\n  | { type: 'generation_complete'; content: GeneratedContent }\n  | { type: 'generation_error'; error: string }\n  | { type: 'state_changed'; state: GameState }\n  | { type: 'tts_started'; eventId: string }\n  | { type: 'tts_complete'; eventId: string }\n  | { type: 'editor_state'; editorState: DMEditorState }\n  | { type: 'heartbeat'; timestamp: string };\n```\n\n## Fastify Route Helper\n\n```typescript\n// Helper to set up SSE response headers\nfunction setupSSEResponse(reply: FastifyReply): void {\n  reply.raw.setHeader('Content-Type', 'text/event-stream');\n  reply.raw.setHeader('Cache-Control', 'no-cache');\n  reply.raw.setHeader('Connection', 'keep-alive');\n  reply.raw.setHeader('X-Accel-Buffering', 'no');  // Disable nginx buffering\n}\n\n// Helper to format SSE message\nfunction formatSSEMessage(event: SSEEvent): string {\n  return `event: ${event.type}\\ndata: ${JSON.stringify(event)}\\n\\n`;\n}\n```\n\n## Heartbeat\n\n- Send heartbeat every 30 seconds to keep connections alive\n- Detect dead connections and clean up\n- Format: `event: heartbeat\\ndata: {\"timestamp\":\"...\"}`\n\n## Connection Cleanup\n\n- On client disconnect (response close event)\n- On game end\n- On server shutdown","acceptance_criteria":"- [ ] BroadcastManager class created with all methods\n- [ ] subscribe() returns clientId and sets up SSE headers\n- [ ] broadcast() sends to all connected clients for a game\n- [ ] unsubscribe() removes client and cleans up\n- [ ] Heartbeat sends every 30 seconds\n- [ ] Dead connections detected and cleaned up\n- [ ] SSE format correct (event + data lines)\n- [ ] Unit tests for BroadcastManager\n- [ ] Manual test: connect via curl, receive heartbeats\n- [ ] Memory leak check: clients properly removed on disconnect","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:24:19.649778045Z","created_by":"stiwi","updated_at":"2026-01-10T23:06:55.298066574Z","closed_at":"2026-01-10T23:06:55.298066574Z","close_reason":"Implemented by polecat rictus - SSE broadcast service added","labels":["phase-2","realtime","server","sse"],"dependencies":[{"issue_id":"reckoning-9vu","depends_on_id":"reckoning-8jy","type":"blocks","created_at":"2026-01-10T22:24:19.65121581Z","created_by":"unknown"}]}
{"id":"reckoning-9xu","title":"Merge: wretched-mk9ihjd9","description":"branch: polecat/wretched-mk9ihjd9\ntarget: main\nsource_issue: wretched-mk9ihjd9\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-wretched\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:11:27.982400812Z","created_by":"reckoning/polecats/wretched","updated_at":"2026-01-11T09:23:52.018661093Z","closed_at":"2026-01-11T09:23:52.018661093Z","close_reason":"Already merged to main as db22d82","labels":["gt:merge-request"]}
{"id":"reckoning-a33","title":"P3-1.3: Character Repository","description":"Create repository for character CRUD operations.\nFiles: packages/server/src/repositories/character-repository.ts\nEnforces party limits (1 player, 2 members, 2 companions)","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-11T07:53:30.839102845Z","created_by":"Admin","updated_at":"2026-01-11T08:13:35.671803766Z","closed_at":"2026-01-11T08:13:35.671803766Z","close_reason":"Closed","labels":["database","phase-3","repository","server"],"dependencies":[{"issue_id":"reckoning-a33","depends_on_id":"reckoning-bo4","type":"blocks","created_at":"2026-01-11T07:53:30.840485468Z","created_by":"Admin"}]}
{"id":"reckoning-abi","title":"E7: Client Main Integration","description":"Wire up all client components in main.ts.\n\nUpdate packages/client/src/main.ts to:\n- Initialize services (SSEService, GameService, TTSService)\n- Create and mount all UI components\n- Wire up event handlers between components\n- Handle game lifecycle (new game, load, save)\n- Establish SSE connection on game start\n\nThis is the client-side integration point that brings all components together.","acceptance_criteria":"- [ ] App initializes all services correctly\n- [ ] All UI components render in proper layout\n- [ ] SSE connection established on game start\n- [ ] User can start new game from UI\n- [ ] Event handlers properly connected between components","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T22:29:39.256115423Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:32.070321154Z","closed_at":"2026-01-11T09:17:32.070321154Z","close_reason":"Client main integration implemented at packages/client/src/main.ts","labels":["client","integration","phase-2"],"dependencies":[{"issue_id":"reckoning-abi","depends_on_id":"reckoning-1zj","type":"blocks","created_at":"2026-01-10T22:29:39.257364283Z","created_by":"unknown"},{"issue_id":"reckoning-abi","depends_on_id":"reckoning-e3s","type":"blocks","created_at":"2026-01-10T22:29:39.258523858Z","created_by":"unknown"},{"issue_id":"reckoning-abi","depends_on_id":"reckoning-q5k","type":"blocks","created_at":"2026-01-10T22:29:39.259970211Z","created_by":"unknown"}]}
{"id":"reckoning-ah1","title":"P3-4.2: Update AI Generation for Beats","description":"Modify prompts and parsing to generate beat sequences.\nFiles: schemas.ts, prompts/system.ts, content-pipeline.ts\nAdd BEAT_SEQUENCE_SCHEMA for 3-8 short beats","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-11T07:53:54.887373886Z","created_by":"Admin","updated_at":"2026-01-11T08:32:13.184281353Z","closed_at":"2026-01-11T08:32:13.184281353Z","close_reason":"MR 9pv submitted by scrotus","labels":["ai","beats","phase-3","server"],"dependencies":[{"issue_id":"reckoning-ah1","depends_on_id":"reckoning-gza","type":"blocks","created_at":"2026-01-11T07:53:54.888796366Z","created_by":"Admin"},{"issue_id":"reckoning-ah1","depends_on_id":"reckoning-3re","type":"blocks","created_at":"2026-01-11T07:53:54.890013117Z","created_by":"Admin"}]}
{"id":"reckoning-ate","title":"Fix @reckoning/shared test resolution","description":"5 test suites fail to load due to @reckoning/shared package resolution error. Tests affected: tts-e2e.test.ts, tts.test.ts, claude-cli.test.ts, content-pipeline.test.ts, game-engine.integration.test.ts. Error: Failed to resolve entry for package @reckoning/shared","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T05:30:34.028934362Z","created_by":"reckoning/refinery","updated_at":"2026-01-11T08:09:49.624311914Z","closed_at":"2026-01-11T08:09:49.624311914Z","close_reason":"Fixed by ace-mk9g5x6b"}
{"id":"reckoning-b1k","title":"Merge: ace-mk9g5x6b","description":"branch: polecat/ace-mk9g5x6b\ntarget: main\nsource_issue: ace-mk9g5x6b\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-ace\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:07:55.975692993Z","created_by":"reckoning/polecats/ace","updated_at":"2026-01-11T08:09:49.52710136Z","closed_at":"2026-01-11T08:09:49.52710136Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-b44l","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, 0 branches merged","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:20:38.992133949Z","updated_at":"2026-01-11T18:20:38.992133949Z","closed_at":"2026-01-11T18:20:38.992097802Z","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"reckoning-b44l","depends_on_id":"reckoning-wisp-44w","type":"parent-child","created_at":"2026-01-11T18:20:38.993086457Z","created_by":"reckoning/refinery"}]}
{"id":"reckoning-b8m","title":"F3: Polish \u0026 Testing","description":"Final polish and test coverage for Phase 2.\n\nPolish work:\n- User-friendly error messages\n- Loading indicators for async operations\n- Edge case handling (network errors, AI failures)\n- Graceful degradation when services unavailable\n\nTesting:\n- Unit test coverage for new services\n- Integration tests for game routes\n- Manual testing checklist completion","acceptance_criteria":"- [ ] Error messages are user-friendly\n- [ ] Loading states shown during async operations\n- [ ] Edge cases handled gracefully\n- [ ] Unit tests pass with reasonable coverage\n- [ ] Integration tests pass\n- [ ] Manual test checklist completed","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T22:30:00.473133898Z","created_by":"stiwi","updated_at":"2026-01-11T09:18:35.524379371Z","closed_at":"2026-01-11T09:18:35.524379371Z","close_reason":"Ongoing - superseded by Phase 3 polish work","labels":["phase-2","polish","testing"],"dependencies":[{"issue_id":"reckoning-b8m","depends_on_id":"reckoning-42l","type":"blocks","created_at":"2026-01-10T22:30:00.474171973Z","created_by":"unknown"},{"issue_id":"reckoning-b8m","depends_on_id":"reckoning-0yo","type":"blocks","created_at":"2026-01-10T22:30:00.475374643Z","created_by":"unknown"}]}
{"id":"reckoning-bbn","title":"Implement character-specific voice mapping","description":"dispatched_by: mayor\n\nAdd ability to assign specific ElevenLabs voices to individual characters (e.g., Stiwi uses voice iKa6KVAfDE7NBkGe3dJo). Currently voices are mapped by role (narrator, judge, npc, inner_voice). This feature would allow: 1) Characters to have their own voice ID, 2) Voice registry to look up character-specific voice before falling back to role-based voice, 3) TTS to use character voice when speaker name matches a configured character.","status":"closed","priority":2,"issue_type":"task","assignee":"reckoning/polecats/witness","created_at":"2026-01-11T08:23:27.268831402Z","created_by":"Admin","updated_at":"2026-01-11T09:24:15.591359623Z","closed_at":"2026-01-11T09:24:15.591359623Z","close_reason":"voice mapping merged to main","labels":["enhancement","phase-3","tts"]}
{"id":"reckoning-bgmt","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ empty, no branches to merge","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T12:52:02.536012872Z","updated_at":"2026-01-11T12:52:02.536012872Z","closed_at":"2026-01-11T12:52:02.535978813Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-bo4","title":"P3-1.1: Database Schema Updates","description":"Add party and character tables to SQLite schema.\n\nFiles: packages/server/src/db/schema.sql\n\nTables: parties, characters\n\nAcceptance Criteria:\n- Tables created on fresh database\n- Migrations work on existing databases\n\nTesting:\n- Unit test: Schema creation on empty database","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-11T07:53:01.02335955Z","created_by":"Admin","updated_at":"2026-01-11T08:09:23.15981968Z","closed_at":"2026-01-11T08:09:23.15981968Z","close_reason":"MR dqa merged by refinery","labels":["database","foundation","phase-3","server"]}
{"id":"reckoning-bzb","title":"P3-2.5: Speech Bubbles in Party Panel","description":"dispatched_by: mayor\n\nAdd speech bubbles next to character avatars.\nFiles: packages/client/src/components/speech-bubble.ts\nFeatures: show during TTS, fade after, click to replay","status":"closed","priority":2,"issue_type":"task","assignee":"reckoning/polecats/road-warrior","estimated_minutes":120,"created_at":"2026-01-11T07:54:13.116976124Z","created_by":"Admin","updated_at":"2026-01-11T09:25:07.053175378Z","closed_at":"2026-01-11T09:25:07.053175378Z","close_reason":"speech-bubble.ts merged to main","labels":["client","party","phase-3","ui"],"dependencies":[{"issue_id":"reckoning-bzb","depends_on_id":"reckoning-y2l","type":"blocks","created_at":"2026-01-11T07:54:13.11846632Z","created_by":"Admin"},{"issue_id":"reckoning-bzb","depends_on_id":"reckoning-2g0","type":"blocks","created_at":"2026-01-11T07:54:13.119644152Z","created_by":"Admin"}]}
{"id":"reckoning-c17","title":"Merge: road-warrior","description":"branch: polecat/road-warrior-mk9iwaxd\ntarget: main\nsource_issue: road-warrior\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-road-warrior\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:22:49.351333823Z","created_by":"reckoning/polecats/road-warrior","updated_at":"2026-01-11T16:48:30.935374919Z","closed_at":"2026-01-11T16:48:30.935374919Z","close_reason":"Already merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-c7h","title":"P3-3.2: Party Member Actions in Generation","description":"Update AI prompts to generate party member actions.\nFiles: packages/server/src/services/ai/prompts/system.ts","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-11T07:53:54.822401352Z","created_by":"Admin","updated_at":"2026-01-11T08:29:10.156738756Z","closed_at":"2026-01-11T08:29:10.156740961Z","labels":["ai","phase-3","prompts","server"],"dependencies":[{"issue_id":"reckoning-c7h","depends_on_id":"reckoning-3re","type":"blocks","created_at":"2026-01-11T07:53:54.844657437Z","created_by":"Admin"}]}
{"id":"reckoning-cct","title":"Merge: road-warrior","description":"branch: polecat/road-warrior-mk9j4pop\ntarget: main\nsource_issue: road-warrior\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-road-warrior\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:28:36.352242924Z","created_by":"reckoning/polecats/road-warrior","updated_at":"2026-01-11T17:07:44.102118204Z","closed_at":"2026-01-11T17:07:44.102118204Z","close_reason":"Stale MR - branch already merged or cleaned up","labels":["conflict","gt:merge-request"]}
{"id":"reckoning-cih","title":"P3-1.4: Party API Routes","description":"Add REST endpoints for party management.\nFiles: packages/server/src/routes/party.ts\nEndpoints: GET party, POST/PUT/DELETE members, PUT health","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-11T07:53:43.474186177Z","created_by":"Admin","updated_at":"2026-01-11T08:29:40.498044732Z","closed_at":"2026-01-11T08:29:40.49804731Z","labels":["api","phase-3","routes","server"],"dependencies":[{"issue_id":"reckoning-cih","depends_on_id":"reckoning-efc","type":"blocks","created_at":"2026-01-11T07:53:43.491852703Z","created_by":"Admin"},{"issue_id":"reckoning-cih","depends_on_id":"reckoning-a33","type":"blocks","created_at":"2026-01-11T07:53:43.501440042Z","created_by":"Admin"}]}
{"id":"reckoning-csv","title":"P3-4.4: Sequential TTS Playback","description":"dispatched_by: mayor\n\nPlay beats in sequence with appropriate voices.\nFiles: packages/client/src/services/tts/index.ts\nAdd speakSequence() method","status":"closed","priority":1,"issue_type":"task","assignee":"reckoning/polecats/road-warrior","estimated_minutes":90,"created_at":"2026-01-11T07:54:13.034798611Z","created_by":"Admin","updated_at":"2026-01-11T09:31:24.558658142Z","closed_at":"2026-01-11T09:31:24.558658142Z","close_reason":"speakSequence merged to main","labels":["beats","client","phase-3","tts"],"dependencies":[{"issue_id":"reckoning-csv","depends_on_id":"reckoning-2g0","type":"blocks","created_at":"2026-01-11T07:54:13.051362474Z","created_by":"Admin"}]}
{"id":"reckoning-cu9","title":"Merge: slit-mk8wdf7l","description":"branch: polecat/slit-mk8wdf7l\ntarget: main\nsource_issue: slit-mk8wdf7l\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:03:02.14479261Z","created_by":"reckoning/polecats/slit","updated_at":"2026-01-11T08:01:47.067833899Z","closed_at":"2026-01-11T08:01:47.067833899Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-dj6","title":"Merge: citadel-mk9ijfgw","description":"branch: polecat/citadel-mk9ijfgw\ntarget: main\nsource_issue: citadel-mk9ijfgw\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-citadel\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:16:43.352243054Z","created_by":"reckoning/polecats/citadel","updated_at":"2026-01-11T09:24:23.040454374Z","closed_at":"2026-01-11T09:24:23.040454374Z","close_reason":"No new commits - branch already at main","labels":["gt:merge-request"]}
{"id":"reckoning-djeb","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ empty, 0 branches processed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:57:19.326448323Z","updated_at":"2026-01-11T15:57:19.326448323Z","closed_at":"2026-01-11T15:57:19.326411645Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-dnwt","title":"[ENHANCEMENT] Include eventType in generation_complete SSE - server/src/services/game-engine/index.ts broadcast should include eventType and metadata","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:42.901478596Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:42.901478596Z"}
{"id":"reckoning-dof","title":"Merge: organic-mk9ge2v9","description":"branch: polecat/organic-mk9ge2v9\ntarget: main\nsource_issue: organic-mk9ge2v9\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-organic\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:16:13.03209211Z","created_by":"reckoning/polecats/organic","updated_at":"2026-01-11T08:19:21.17655943Z","closed_at":"2026-01-11T08:19:21.17655943Z","close_reason":"Merged to main (with schema fix)","labels":["gt:merge-request"]}
{"id":"reckoning-dqa","title":"Merge: capable-mk9fz0dv","description":"branch: polecat/capable-mk9fz0dv\ntarget: main\nsource_issue: capable-mk9fz0dv\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-capable\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:05:25.739341167Z","created_by":"reckoning/polecats/capable","updated_at":"2026-01-11T08:08:47.473042243Z","closed_at":"2026-01-11T08:08:47.473042243Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-drex","title":"Digest: mol-refinery-patrol","description":"Patrol: merged interceptor-mk9j56xw (world generation pipeline). MQ empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T12:05:55.487582526Z","updated_at":"2026-01-11T12:05:55.487582526Z","closed_at":"2026-01-11T12:05:55.487543058Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-dtf","title":"E1: Client SSE Service","description":"Create client-side SSE service for receiving real-time server updates.\n\n## Files to Create\n\n```\npackages/client/src/services/sse/\n‚îú‚îÄ‚îÄ index.ts    # SSEService class\n‚îî‚îÄ‚îÄ types.ts    # Client-side event handler types\n```\n\n## SSEService\n\n```typescript\nimport { SSEEvent } from '@reckoning/shared';\n\ntype SSEEventHandler\u003cT extends SSEEvent['type']\u003e = (\n  event: Extract\u003cSSEEvent, { type: T }\u003e\n) =\u003e void;\n\ninterface SSEServiceConfig {\n  reconnectDelay?: number;      // Default: 1000ms\n  maxReconnectDelay?: number;   // Default: 30000ms\n  reconnectBackoff?: number;    // Default: 1.5\n}\n\nclass SSEService {\n  private eventSource: EventSource | null = null;\n  private handlers: Map\u003cstring, Set\u003cFunction\u003e\u003e = new Map();\n  private reconnectAttempts: number = 0;\n  private config: Required\u003cSSEServiceConfig\u003e;\n  private gameId: string | null = null;\n  \n  constructor(config?: SSEServiceConfig);\n  \n  // Connect to game SSE stream\n  connect(gameId: string): void;\n  \n  // Disconnect and cleanup\n  disconnect(): void;\n  \n  // Check connection status\n  isConnected(): boolean;\n  \n  // Get current game ID\n  getGameId(): string | null;\n  \n  // Register event handler\n  on\u003cT extends SSEEvent['type']\u003e(\n    eventType: T, \n    handler: SSEEventHandler\u003cT\u003e\n  ): () =\u003e void;  // Returns unsubscribe function\n  \n  // Remove event handler\n  off\u003cT extends SSEEvent['type']\u003e(\n    eventType: T, \n    handler: SSEEventHandler\u003cT\u003e\n  ): void;\n  \n  // Remove all handlers for an event type\n  offAll(eventType?: SSEEvent['type']): void;\n}\n```\n\n## Implementation Details\n\n### Connection\n\n```typescript\nconnect(gameId: string): void {\n  if (this.eventSource) {\n    this.disconnect();\n  }\n  \n  this.gameId = gameId;\n  this.eventSource = new EventSource(`/api/game/${gameId}/events`);\n  \n  this.eventSource.onopen = () =\u003e {\n    console.log('[SSE] Connected');\n    this.reconnectAttempts = 0;\n  };\n  \n  this.eventSource.onerror = (error) =\u003e {\n    console.error('[SSE] Error:', error);\n    this.handleReconnect();\n  };\n  \n  // Register handlers for each event type\n  const eventTypes: SSEEvent['type'][] = [\n    'generation_started', 'generation_complete', 'generation_error',\n    'state_changed', 'tts_started', 'tts_complete', \n    'editor_state', 'heartbeat'\n  ];\n  \n  eventTypes.forEach(type =\u003e {\n    this.eventSource\\!.addEventListener(type, (e: MessageEvent) =\u003e {\n      const data = JSON.parse(e.data);\n      this.emit(type, data);\n    });\n  });\n}\n```\n\n### Reconnection with Backoff\n\n```typescript\nprivate handleReconnect(): void {\n  if (\\!this.gameId) return;\n  \n  const delay = Math.min(\n    this.config.reconnectDelay * Math.pow(this.config.reconnectBackoff, this.reconnectAttempts),\n    this.config.maxReconnectDelay\n  );\n  \n  this.reconnectAttempts++;\n  console.log(`[SSE] Reconnecting in ${delay}ms (attempt ${this.reconnectAttempts})`);\n  \n  setTimeout(() =\u003e {\n    if (this.gameId) {\n      this.connect(this.gameId);\n    }\n  }, delay);\n}\n```\n\n### Event Emission\n\n```typescript\nprivate emit(type: string, data: SSEEvent): void {\n  const handlers = this.handlers.get(type);\n  if (handlers) {\n    handlers.forEach(handler =\u003e {\n      try {\n        handler(data);\n      } catch (error) {\n        console.error(`[SSE] Handler error for ${type}:`, error);\n      }\n    });\n  }\n}\n```\n\n## Usage Example\n\n```typescript\nconst sse = new SSEService();\n\n// Connect to game\nsse.connect('game-123');\n\n// Listen for generation complete\nconst unsubscribe = sse.on('generation_complete', (event) =\u003e {\n  console.log('Generated:', event.content);\n  updateEditor(event.content);\n});\n\n// Later: cleanup\nunsubscribe();\nsse.disconnect();\n```\n\n## Connection States\n\nTrack and expose connection state:\n- 'connecting' - EventSource created, waiting for open\n- 'connected' - onopen fired, receiving events\n- 'reconnecting' - Connection lost, attempting reconnect\n- 'disconnected' - Manually disconnected or gave up","acceptance_criteria":"- [ ] SSEService class created with all methods\n- [ ] connect() creates EventSource to /api/game/:id/events\n- [ ] disconnect() closes EventSource and cleans up\n- [ ] on() registers typed event handlers\n- [ ] off() removes specific handler\n- [ ] Auto-reconnect with exponential backoff\n- [ ] Connection state tracking\n- [ ] Event handlers receive typed SSEEvent payloads\n- [ ] Handlers wrapped in try-catch to prevent crashes\n- [ ] Unit tests for handler registration/removal\n- [ ] Manual test: connect, receive events, reconnect on disconnect","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:26:49.205965511Z","created_by":"stiwi","updated_at":"2026-01-10T23:06:55.202182733Z","closed_at":"2026-01-10T23:06:55.202182733Z","close_reason":"Implemented by polecat capable - client SSE service added","labels":["client","phase-2","realtime","sse"],"dependencies":[{"issue_id":"reckoning-dtf","depends_on_id":"reckoning-8jy","type":"blocks","created_at":"2026-01-10T22:26:49.207265521Z","created_by":"unknown"}]}
{"id":"reckoning-e2s","title":"Merge: coma-mk9gegmy","description":"branch: polecat/coma-mk9gegmy\ntarget: main\nsource_issue: coma-mk9gegmy\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-coma\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:14:03.311243065Z","created_by":"reckoning/polecats/coma","updated_at":"2026-01-11T08:14:51.411562298Z","closed_at":"2026-01-11T08:14:51.411562298Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-e3s","title":"E5: UI Components - Panels","description":"Create info panel components for party, area, status bar, and game stats.\n\nFiles to create in packages/client/src/components/:\n- party-panel.ts - Party member list with names, classes, status\n- area-panel.ts - Current location, exits, objects, NPCs\n- status-bar.ts - System status (AI, TTS, DB indicators)\n- game-stats.ts - Turn count, event count, session duration\n\nAll panels subscribe to GameStateManager for updates.","acceptance_criteria":"- [ ] Party panel shows party members with names and classes\n- [ ] Area panel shows location name, exits, objects, NPCs\n- [ ] Status bar shows AI/TTS/DB status indicators\n- [ ] Game stats shows turn count, event count, duration\n- [ ] All panels update reactively via state subscription","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:30:18.848784179Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:31.852994521Z","closed_at":"2026-01-11T09:17:31.852994521Z","close_reason":"Party panel component implemented at packages/client/src/components/party-panel.ts","labels":["client","phase-2","ui"],"dependencies":[{"issue_id":"reckoning-e3s","depends_on_id":"reckoning-7el","type":"blocks","created_at":"2026-01-10T22:30:18.849888854Z","created_by":"unknown"}]}
{"id":"reckoning-eai","title":"Merge: buzzard-mk9ii0el","description":"branch: polecat/buzzard-mk9ii0el\ntarget: main\nsource_issue: buzzard-mk9ii0el\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-buzzard\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:12:24.462004521Z","created_by":"reckoning/polecats/buzzard","updated_at":"2026-01-11T09:24:07.073878833Z","closed_at":"2026-01-11T09:24:07.073878833Z","close_reason":"Branch not found in origin remote","labels":["gt:merge-request"]}
{"id":"reckoning-efc","title":"P3-1.2: Party Repository","description":"Create repository for party CRUD operations.\nFiles: packages/server/src/repositories/base.ts, party-repository.ts\nMethods: create, findByGameId, getWithMembers, update, delete","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2026-01-11T07:53:30.784580084Z","created_by":"Admin","updated_at":"2026-01-11T08:16:40.81949204Z","closed_at":"2026-01-11T08:16:40.81949204Z","close_reason":"MR dof submitted by organic","labels":["database","phase-3","repository","server"],"dependencies":[{"issue_id":"reckoning-efc","depends_on_id":"reckoning-bo4","type":"blocks","created_at":"2026-01-11T07:53:30.80260517Z","created_by":"Admin"}]}
{"id":"reckoning-enr","title":"Merge: wraith-mk9iocvl","description":"branch: polecat/wraith-mk9iocvl\ntarget: main\nsource_issue: wraith-mk9iocvl\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-wraith\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:21:40.849441949Z","created_by":"reckoning/polecats/wraith","updated_at":"2026-01-11T09:30:05.997215604Z","closed_at":"2026-01-11T09:30:05.997215604Z","close_reason":"Closed","labels":["gt:merge-request"]}
{"id":"reckoning-evq","title":"Merge: dinki-mk9h4fw5","description":"branch: polecat/dinki-mk9h4fw5\ntarget: main\nsource_issue: dinki-mk9h4fw5\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-dinki\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:38:42.923508654Z","created_by":"reckoning/polecats/dinki","updated_at":"2026-01-11T09:05:53.504551729Z","closed_at":"2026-01-11T09:05:53.504551729Z","close_reason":"Already merged manually","labels":["gt:merge-request"]}
{"id":"reckoning-fdi","title":"E2: Client Game Service","description":"Create client-side game API service for server communication.\n\n## Files to Create\n\n```\npackages/client/src/services/game/\n‚îú‚îÄ‚îÄ index.ts    # GameService class\n‚îî‚îÄ‚îÄ types.ts    # Request/response types (if needed beyond shared)\n```\n\n## GameService\n\n```typescript\nimport {\n  GameSession, GameState, GeneratedContent, CanonicalEvent,\n  DMAction, PlaybackMode, DMEditorState, SystemStatus, \n  GameObservation, SaveSlot, EventType\n} from '@reckoning/shared';\n\nclass GameService {\n  private baseUrl: string;\n  private currentGameId: string | null = null;\n  \n  constructor(baseUrl?: string);\n  \n  // Get current game ID\n  getGameId(): string | null;\n  \n  // Create new game\n  async newGame(playerName: string, description?: string): Promise\u003cGameSession\u003e;\n  \n  // Get game session\n  async getSession(gameId: string): Promise\u003c{ session: GameSession; editorState: DMEditorState }\u003e;\n  \n  // List saved games\n  async listSaves(): Promise\u003cSaveSlot[]\u003e;\n  \n  // Save game\n  async saveGame(gameId: string, name: string): Promise\u003cSaveSlot\u003e;\n  \n  // Load game\n  async loadGame(gameId: string, slotId: string): Promise\u003cGameSession\u003e;\n  \n  // Get pending content\n  async getPending(gameId: string): Promise\u003c{ pending: GeneratedContent | null; editorState: DMEditorState }\u003e;\n  \n  // Update editor state\n  async updateEditor(gameId: string, state: Partial\u003cDMEditorState\u003e): Promise\u003cDMEditorState\u003e;\n  \n  // Submit DM action\n  async submit(gameId: string, action: DMAction): Promise\u003c{ event: CanonicalEvent; session: GameSession }\u003e;\n  \n  // Request regeneration\n  async regenerate(gameId: string, feedback?: string): Promise\u003cvoid\u003e;\n  \n  // Inject DM content\n  async inject(gameId: string, content: string, eventType: EventType, speaker?: string): Promise\u003c{ event: CanonicalEvent; session: GameSession }\u003e;\n  \n  // Trigger next generation\n  async next(gameId: string, options?: { type?: string; dmGuidance?: string }): Promise\u003cvoid\u003e;\n  \n  // Set playback mode\n  async setPlaybackMode(gameId: string, mode: PlaybackMode): Promise\u003cPlaybackMode\u003e;\n  \n  // Get status\n  async getStatus(gameId: string): Promise\u003c{ system: SystemStatus; observation: GameObservation }\u003e;\n}\n```\n\n## Implementation Pattern\n\n```typescript\nprivate async request\u003cT\u003e(\n  method: 'GET' | 'POST' | 'PUT' | 'DELETE',\n  path: string,\n  body?: object\n): Promise\u003cT\u003e {\n  const url = `${this.baseUrl}${path}`;\n  const options: RequestInit = {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  \n  if (body) {\n    options.body = JSON.stringify(body);\n  }\n  \n  const response = await fetch(url, options);\n  \n  if (\\!response.ok) {\n    const error = await response.json();\n    throw new GameServiceError(\n      error.error?.code || 'UNKNOWN_ERROR',\n      error.error?.message || 'Request failed',\n      response.status\n    );\n  }\n  \n  return response.json();\n}\n```\n\n## Error Handling\n\n```typescript\nclass GameServiceError extends Error {\n  constructor(\n    public code: string,\n    message: string,\n    public statusCode: number\n  ) {\n    super(message);\n    this.name = 'GameServiceError';\n  }\n}\n```\n\n## Usage Example\n\n```typescript\nconst gameService = new GameService();\n\n// Start new game\nconst session = await gameService.newGame('Player One', 'A brave adventurer');\nconst gameId = session.state.id;\n\n// Submit edited content\nconst result = await gameService.submit(gameId, {\n  type: 'EDIT',\n  content: 'Marcus draws his sword and steps forward cautiously.'\n});\n\n// Trigger next generation\nawait gameService.next(gameId, { dmGuidance: 'Have the NPC react suspiciously' });\n```\n\n## Singleton Export\n\n```typescript\n// Export singleton instance for app-wide use\nexport const gameService = new GameService();\n\n// Also export class for testing\nexport { GameService, GameServiceError };\n```","acceptance_criteria":"- [ ] GameService class created with all methods\n- [ ] newGame() creates game and returns session\n- [ ] getSession() fetches current state\n- [ ] listSaves() returns saved games\n- [ ] saveGame() saves to slot\n- [ ] loadGame() restores from slot\n- [ ] getPending() returns pending content\n- [ ] updateEditor() updates editor state\n- [ ] submit() submits DM action\n- [ ] regenerate() requests regeneration\n- [ ] inject() creates DM event\n- [ ] next() triggers generation\n- [ ] setPlaybackMode() changes playback\n- [ ] getStatus() returns system status\n- [ ] GameServiceError class for error handling\n- [ ] Singleton instance exported\n- [ ] Unit tests with fetch mocking","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:27:07.565446733Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:25.551180403Z","closed_at":"2026-01-11T09:17:25.551180403Z","close_reason":"Client game service implemented at packages/client/src/services/game/","labels":["api","client","phase-2"],"dependencies":[{"issue_id":"reckoning-fdi","depends_on_id":"reckoning-8jy","type":"blocks","created_at":"2026-01-10T22:27:07.56673555Z","created_by":"unknown"},{"issue_id":"reckoning-fdi","depends_on_id":"reckoning-dtf","type":"blocks","created_at":"2026-01-10T22:27:07.567931535Z","created_by":"unknown"}]}
{"id":"reckoning-ft9j","title":"[A11Y] Add accessibility to Save/Load Modal - role=dialog, aria-modal, focus trap in save-load-modal.ts","description":"Blocked by reckoning-tpsi (a11y utils). Add ARIA attributes and focus trap to save-load-modal.ts for screen reader support and Playwright test selectors.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:56.902189111Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:56.902189111Z"}
{"id":"reckoning-futt","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, 443 tests pass, main green","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:12:39.080237339Z","updated_at":"2026-01-11T15:12:39.080237339Z","closed_at":"2026-01-11T15:12:39.080205457Z","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"reckoning-futt","depends_on_id":"reckoning-wisp-9gm","type":"parent-child","created_at":"2026-01-11T15:12:39.080966054Z","created_by":"reckoning/refinery"}]}
{"id":"reckoning-g2dg","title":"P3-UI: Integrate Phase 3 components into main client","description":"dispatched_by: mayor\n\nWire up existing components into main.ts and index.html:\n\nComponents to integrate:\n- party-panel.ts (party members with health bars)\n- beat-editor.ts (replace/augment dm-editor)\n- speech-bubble.ts (dialogue display on party cards)\n- status-bar.ts (game status display)\n- area-panel.ts (current location info)\n\nTasks:\n1. Update index.html layout to add container divs for new components\n2. Import and initialize components in main.ts\n3. Connect to GameStateManager for state updates\n4. Wire up SSE events for real-time updates\n5. Test full integration flow","status":"closed","priority":1,"issue_type":"task","assignee":"reckoning/polecats/road-warrior","created_at":"2026-01-11T17:18:57.786285895Z","created_by":"Admin","updated_at":"2026-01-11T17:44:27.937718948Z","closed_at":"2026-01-11T17:44:27.937718948Z","close_reason":"Merged to main, typecheck passes","labels":["client","integration","phase-3","ui"]}
{"id":"reckoning-g42","title":"Merge: capable-mk8wq3ql","description":"branch: polecat/capable-mk8wq3ql\ntarget: main\nsource_issue: capable-mk8wq3ql\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-capable\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:06:05.113553836Z","created_by":"reckoning/polecats/capable","updated_at":"2026-01-11T08:01:46.864539073Z","closed_at":"2026-01-11T08:01:46.864539073Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-gi6k","title":"Digest: mol-refinery-patrol","description":"Idle patrol: MQ empty, inbox empty, 0 branches merged","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T18:42:39.872855643Z","updated_at":"2026-01-11T18:42:39.872855643Z","closed_at":"2026-01-11T18:42:39.872820203Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-gjmx","title":"[A11Y] Add accessibility to DM Editor - role=textbox, aria-label, aria-live for status in dm-editor.ts","description":"Blocked by reckoning-tpsi (a11y utils). Add ARIA attributes to dm-editor.ts for screen reader support and Playwright test selectors.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:56.4907703Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:56.4907703Z"}
{"id":"reckoning-gnm","title":"Merge: dementus-mk8wpnt9","description":"branch: polecat/dementus-mk8wpnt9\ntarget: main\nsource_issue: dementus-mk8wpnt9\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-dementus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:06:19.140116848Z","created_by":"reckoning/polecats/dementus","updated_at":"2026-01-11T08:01:45.614507925Z","closed_at":"2026-01-11T08:01:45.614507925Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-go7g","title":"[BUG] Wire speech bubbles to TTS callbacks - update setupTTSIntegration() in main.ts to call speechBubble.show/scheduleFade on TTS start/end","description":"Blocked by reckoning-pnkk (speaker tracking) and speaker-to-ID mapping. Currently TTS callbacks only log to console. Need to call speechBubble.show() on onStart and speechBubble.scheduleFade() on onEnd.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:09:09.816758414Z","created_by":"stiwi","updated_at":"2026-01-11T19:09:09.816758414Z"}
{"id":"reckoning-gza","title":"P3-4.1: Narrative Beat Schema","description":"Define beat structure for AI output.\nFiles: packages/shared/src/game/beats.ts\nTypes: NarrativeBeat, BeatSequence, BeatType","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-11T07:53:17.691756379Z","created_by":"Admin","updated_at":"2026-01-11T08:09:23.257240457Z","closed_at":"2026-01-11T08:09:23.257240457Z","close_reason":"MR 034 merged by refinery","labels":["beats","foundation","phase-3","shared","types"]}
{"id":"reckoning-gzx","title":"Merge: goose-mk9goa7n","description":"branch: polecat/goose-mk9goa7n\ntarget: main\nsource_issue: goose-mk9goa7n\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-goose\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:24:29.498477152Z","created_by":"reckoning/polecats/goose","updated_at":"2026-01-11T08:25:22.389904911Z","closed_at":"2026-01-11T08:25:22.389904911Z","close_reason":"Duplicate - already merged as 11f9d0f","labels":["gt:merge-request"]}
{"id":"reckoning-h9g","title":"Merge: rictus-mk99uzaf","description":"branch: polecat/rictus-mk99uzaf\ntarget: main\nsource_issue: rictus-mk99uzaf\nrig: reckoning\nagent_bead: hq-mayor\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T05:29:19.025289067Z","created_by":"mayor","updated_at":"2026-01-11T08:01:25.982275238Z","closed_at":"2026-01-11T08:01:25.982275238Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-hbj","title":"B2: Database Repositories","description":"Create repository classes for database access with clean interfaces.\n\n## Files to Create\n\n```\npackages/server/src/db/repositories/\n‚îú‚îÄ‚îÄ index.ts              # Re-exports all repositories\n‚îú‚îÄ‚îÄ game-repository.ts    # Game CRUD operations\n‚îú‚îÄ‚îÄ event-repository.ts   # Event history operations\n‚îú‚îÄ‚îÄ area-repository.ts    # Area queries\n‚îú‚îÄ‚îÄ party-repository.ts   # Party member operations\n‚îî‚îÄ‚îÄ save-repository.ts    # Save/load slot operations\n```\n\n## GameRepository\n\n```typescript\nclass GameRepository {\n  constructor(db: Database);\n  \n  create(playerId: string, startAreaId: string): GameState;\n  findById(id: string): GameState | null;\n  update(game: Partial\u003cGameState\u003e \u0026 { id: string }): void;\n  delete(id: string): void;\n  setPlaybackMode(id: string, mode: PlaybackMode): void;\n  incrementTurn(id: string): number;\n  getSession(id: string): GameSession | null;  // Full session with related data\n}\n```\n\n## EventRepository\n\n```typescript\nclass EventRepository {\n  constructor(db: Database);\n  \n  create(event: Omit\u003cCanonicalEvent, 'id' | 'timestamp'\u003e): CanonicalEvent;\n  findById(id: string): CanonicalEvent | null;\n  findByGame(gameId: string, options?: { limit?: number; offset?: number }): CanonicalEvent[];\n  findByTurn(gameId: string, turn: number): CanonicalEvent[];\n  getRecentContext(gameId: string, limit?: number): CanonicalEvent[];\n  countByGame(gameId: string): number;\n  countByTurn(gameId: string, turn: number): number;\n}\n```\n\n## AreaRepository\n\n```typescript\nclass AreaRepository {\n  constructor(db: Database);\n  \n  findById(id: string): Area | null;\n  findAll(): Area[];\n  getWithDetails(id: string): Area \u0026 { exits: AreaExit[]; objects: AreaObject[]; npcs: NPC[] } | null;\n  getNPCsInArea(areaId: string): NPC[];\n  moveNPC(npcId: string, toAreaId: string): void;\n}\n```\n\n## PartyRepository\n\n```typescript\nclass PartyRepository {\n  constructor(db: Database);\n  \n  create(gameId: string, members: Omit\u003cCharacter, 'id'\u003e[]): Character[];\n  findByGame(gameId: string): Character[];\n  findById(id: string): Character | null;\n  update(member: Partial\u003cCharacter\u003e \u0026 { id: string }): void;\n}\n```\n\n## SaveRepository\n\n```typescript\ninterface SaveSlot {\n  id: string;\n  gameId: string;\n  name: string;\n  turn: number;\n  sessionDurationMs: number;\n  createdAt: string;\n}\n\nclass SaveRepository {\n  constructor(db: Database);\n  \n  save(gameId: string, name: string, snapshot: object): SaveSlot;\n  load(saveId: string): { slot: SaveSlot; snapshot: object } | null;\n  list(gameId?: string): SaveSlot[];\n  delete(saveId: string): void;\n  findByName(name: string): SaveSlot | null;\n}\n```\n\n## EditorStateRepository\n\n```typescript\nclass EditorStateRepository {\n  constructor(db: Database);\n  \n  get(gameId: string): DMEditorState | null;\n  set(gameId: string, state: DMEditorState): void;\n  clear(gameId: string): void;\n}\n```\n\n## Notes\n- All repositories take Database instance in constructor\n- Use prepared statements for performance\n- Return domain types from @reckoning/shared\n- Handle JSON serialization for array/object columns","acceptance_criteria":"- [ ] All repository files created\n- [ ] GameRepository: create, findById, update, delete, getSession work\n- [ ] EventRepository: create, findByGame, getRecentContext work\n- [ ] AreaRepository: findById, getWithDetails, getNPCsInArea work\n- [ ] PartyRepository: create, findByGame, update work\n- [ ] SaveRepository: save, load, list, delete work\n- [ ] EditorStateRepository: get, set, clear work\n- [ ] Unit tests for each repository (mock database)\n- [ ] Integration test with real SQLite database\n- [ ] All methods return proper TypeScript types","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:24:50.791019146Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:14.178144979Z","closed_at":"2026-01-11T09:17:14.178144979Z","close_reason":"Database repositories implemented at packages/server/src/db/repositories/","labels":["database","phase-2","server"],"dependencies":[{"issue_id":"reckoning-hbj","depends_on_id":"reckoning-hrd","type":"blocks","created_at":"2026-01-10T22:24:50.792177282Z","created_by":"unknown"}]}
{"id":"reckoning-ho4","title":"Merge: slit-mk99s820","description":"branch: polecat/slit-mk99s820\ntarget: main\nsource_issue: slit-mk99s820\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T05:18:41.928609908Z","created_by":"reckoning/polecats/slit","updated_at":"2026-01-11T08:01:27.012661355Z","closed_at":"2026-01-11T08:01:27.012661355Z","close_reason":"Duplicate - already merged as 82m","labels":["gt:merge-request"]}
{"id":"reckoning-hrd","title":"B1: SQLite Schema \u0026 Connection","description":"Create SQLite database layer with schema and connection management.\n\n## Files to Create\n\n```\npackages/server/src/db/\n‚îú‚îÄ‚îÄ index.ts          # Database connection, getDatabase(), runMigrations()\n‚îú‚îÄ‚îÄ schema.sql        # Table definitions\n‚îî‚îÄ‚îÄ seed.ts           # Seed starter area data\n```\n\n## Schema Tables\n\n### games\n```sql\nCREATE TABLE games (\n  id TEXT PRIMARY KEY,\n  player_id TEXT NOT NULL,\n  current_area_id TEXT NOT NULL,\n  turn INTEGER DEFAULT 0,\n  playback_mode TEXT DEFAULT 'auto',\n  created_at TEXT DEFAULT (datetime('now')),\n  updated_at TEXT DEFAULT (datetime('now'))\n);\n```\n\n### players\n```sql\nCREATE TABLE players (\n  id TEXT PRIMARY KEY,\n  game_id TEXT NOT NULL REFERENCES games(id),\n  name TEXT NOT NULL,\n  description TEXT,\n  created_at TEXT DEFAULT (datetime('now'))\n);\n```\n\n### party_members\n```sql\nCREATE TABLE party_members (\n  id TEXT PRIMARY KEY,\n  game_id TEXT NOT NULL REFERENCES games(id),\n  name TEXT NOT NULL,\n  description TEXT,\n  class TEXT,\n  created_at TEXT DEFAULT (datetime('now'))\n);\n```\n\n### areas\n```sql\nCREATE TABLE areas (\n  id TEXT PRIMARY KEY,\n  name TEXT NOT NULL,\n  description TEXT NOT NULL,\n  tags TEXT,  -- JSON array\n  created_at TEXT DEFAULT (datetime('now'))\n);\n```\n\n### area_exits\n```sql\nCREATE TABLE area_exits (\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  area_id TEXT NOT NULL REFERENCES areas(id),\n  direction TEXT NOT NULL,\n  target_area_id TEXT NOT NULL,\n  description TEXT,\n  locked INTEGER DEFAULT 0\n);\n```\n\n### area_objects\n```sql\nCREATE TABLE area_objects (\n  id TEXT PRIMARY KEY,\n  area_id TEXT NOT NULL REFERENCES areas(id),\n  name TEXT NOT NULL,\n  description TEXT,\n  interactable INTEGER DEFAULT 1,\n  tags TEXT  -- JSON array\n);\n```\n\n### npcs\n```sql\nCREATE TABLE npcs (\n  id TEXT PRIMARY KEY,\n  name TEXT NOT NULL,\n  description TEXT,\n  current_area_id TEXT REFERENCES areas(id),\n  disposition TEXT DEFAULT 'neutral',\n  tags TEXT,  -- JSON array\n  created_at TEXT DEFAULT (datetime('now'))\n);\n```\n\n### events\n```sql\nCREATE TABLE events (\n  id TEXT PRIMARY KEY,\n  game_id TEXT NOT NULL REFERENCES games(id),\n  turn INTEGER NOT NULL,\n  timestamp TEXT DEFAULT (datetime('now')),\n  event_type TEXT NOT NULL,\n  content TEXT NOT NULL,\n  original_generated TEXT,\n  speaker TEXT,\n  location_id TEXT NOT NULL,\n  witnesses TEXT  -- JSON array\n);\nCREATE INDEX idx_events_game ON events(game_id);\nCREATE INDEX idx_events_turn ON events(game_id, turn);\n```\n\n### saves\n```sql\nCREATE TABLE saves (\n  id TEXT PRIMARY KEY,\n  game_id TEXT NOT NULL REFERENCES games(id),\n  name TEXT NOT NULL,\n  turn INTEGER NOT NULL,\n  session_duration_ms INTEGER,\n  snapshot TEXT NOT NULL,  -- JSON blob of full state\n  created_at TEXT DEFAULT (datetime('now'))\n);\n```\n\n### editor_state\n```sql\nCREATE TABLE editor_state (\n  game_id TEXT PRIMARY KEY REFERENCES games(id),\n  pending_content TEXT,  -- JSON GeneratedContent\n  edited_content TEXT,\n  status TEXT DEFAULT 'empty',\n  updated_at TEXT DEFAULT (datetime('now'))\n);\n```\n\n## Connection Management\n\n- Use better-sqlite3 for synchronous SQLite\n- WAL mode for better concurrency\n- Lazy initialization via getDatabase()\n- Auto-run migrations on first connect\n\n## Seed Data\n\nStarter tavern area (The Wayward Rest):\n- 1 area: tavern_common\n- 3 exits: north (stairs), east (bar), south (street)\n- 2 objects: hearth, notice_board\n- 1 NPC: Maren (bartender)\n\n## Dependencies\n- Add better-sqlite3 and @types/better-sqlite3 to server package","acceptance_criteria":"- [ ] packages/server/src/db/index.ts exports getDatabase()\n- [ ] schema.sql contains all table definitions\n- [ ] WAL mode enabled for SQLite\n- [ ] Migrations run automatically on first connection\n- [ ] Seed data creates starter tavern area\n- [ ] better-sqlite3 added to dependencies\n- [ ] Database file created at ./data/reckoning.db (or from env)\n- [ ] pnpm --filter @reckoning/server build succeeds\n- [ ] Can manually verify: sqlite3 ./data/reckoning.db '.tables' shows all tables","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:23:39.305617803Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:08.704369155Z","closed_at":"2026-01-11T09:17:08.704369155Z","close_reason":"SQLite schema and connection implemented at packages/server/src/db/","labels":["database","phase-2","server"],"dependencies":[{"issue_id":"reckoning-hrd","depends_on_id":"reckoning-8jy","type":"blocks","created_at":"2026-01-10T22:23:39.334357162Z","created_by":"unknown"}]}
{"id":"reckoning-j2n","title":"P3-2.4: Integrate Party Panel into Layout","description":"Add party panel to the game UI layout.\nFiles: packages/client/index.html, main.ts, styles/main.css","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-11T07:53:43.570156128Z","created_by":"Admin","updated_at":"2026-01-11T08:22:06.631004911Z","closed_at":"2026-01-11T08:22:06.631007039Z","labels":["client","layout","phase-3","ui"],"dependencies":[{"issue_id":"reckoning-j2n","depends_on_id":"reckoning-y2l","type":"blocks","created_at":"2026-01-11T07:53:43.571602621Z","created_by":"Admin"},{"issue_id":"reckoning-j2n","depends_on_id":"reckoning-nxb","type":"blocks","created_at":"2026-01-11T07:53:43.572713764Z","created_by":"Admin"}]}
{"id":"reckoning-jeu","title":"P3-5.1: World Generation Schema","description":"Define output schema for world generation.\nFiles: packages/server/src/services/ai/schemas.ts","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-11T07:53:17.723941979Z","created_by":"Admin","updated_at":"2026-01-11T08:09:23.3540945Z","closed_at":"2026-01-11T08:09:23.3540945Z","close_reason":"MR mqg merged by refinery","labels":["ai","foundation","phase-3","server","world-gen"]}
{"id":"reckoning-jpw","title":"P3-6.1: Update Demo Script for Phase 3","description":"Update scripts/demo.sh to showcase Phase 3 features: party system with multiple members, beat sequences with reordering, world generation flow, and speech bubbles. Should be final Phase 3 validation task.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:21:31.924469399Z","created_by":"stiwi","updated_at":"2026-01-11T17:09:56.53498634Z","closed_at":"2026-01-11T17:09:56.53498634Z","close_reason":"Demo script updated for Phase 2/3: party system, beat sequences, world generation. Commit ecae0cc","labels":["demo","final","phase-3"],"dependencies":[{"issue_id":"reckoning-jpw","depends_on_id":"reckoning-vtb","type":"blocks","created_at":"2026-01-11T09:21:41.257823643Z","created_by":"stiwi"}]}
{"id":"reckoning-kdm6","title":"Merge: road-warrior","description":"branch: polecat/road-warrior-mk9zor3z\ntarget: main\nsource_issue: road-warrior\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-road-warrior\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:11:20.121238336Z","created_by":"reckoning/polecats/road-warrior","updated_at":"2026-01-11T17:53:18.204638706Z","closed_at":"2026-01-11T17:53:18.204638706Z","close_reason":"Merged polecat/road-warrior-mk9zor3z to main (dab0239). Tests: 443 passed.","labels":["gt:merge-request"]}
{"id":"reckoning-kud","title":"Merge: furiosa-mk8wblto","description":"branch: polecat/furiosa-mk8wblto\ntarget: main\nsource_issue: furiosa-mk8wblto\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:02:00.604808401Z","created_by":"reckoning/polecats/furiosa","updated_at":"2026-01-11T08:01:47.188519345Z","closed_at":"2026-01-11T08:01:47.188519345Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-l3e","title":"C3: Context Builder","description":"Create context builder that assembles GenerationContext from game state.\n\n## Files to Create\n\n```\npackages/server/src/services/ai/\n‚îî‚îÄ‚îÄ context-builder.ts    # ContextBuilder class\n```\n\n## ContextBuilder Interface (from shared)\n\n```typescript\ninterface ContextBuilder {\n  build(gameId: string, type: GenerationContext['type']): Promise\u003cGenerationContext\u003e;\n  // Extension point for future summarization\n  summarizeHistory?(events: CanonicalEvent[]): string;\n}\n```\n\n## Implementation\n\n```typescript\nimport { \n  GenerationContext, \n  GameState, \n  Area, \n  CanonicalEvent,\n  Character,\n  NPC \n} from '@reckoning/shared';\nimport { GameRepository, EventRepository, AreaRepository, PartyRepository } from '../../db/repositories';\n\nclass DefaultContextBuilder implements ContextBuilder {\n  constructor(\n    private gameRepo: GameRepository,\n    private eventRepo: EventRepository,\n    private areaRepo: AreaRepository,\n    private partyRepo: PartyRepository\n  );\n  \n  async build(\n    gameId: string, \n    type: GenerationContext['type'],\n    options?: {\n      dmGuidance?: string;\n      targetNpcId?: string;  // For npc_response\n      triggeringEventId?: string;  // For npc_response\n    }\n  ): Promise\u003cGenerationContext\u003e {\n    // 1. Fetch game state\n    const game = this.gameRepo.findById(gameId);\n    if (!game) throw new Error('Game not found');\n    \n    // 2. Fetch current area with details\n    const area = this.areaRepo.getWithDetails(game.currentAreaId);\n    if (!area) throw new Error('Area not found');\n    \n    // 3. Fetch party members\n    const party = this.partyRepo.findByGame(gameId);\n    \n    // 4. Fetch recent history (full for now, extension point for summarization)\n    const recentHistory = this.eventRepo.getRecentContext(gameId);\n    \n    // 5. Build context based on type\n    return {\n      type,\n      gameState: game,\n      currentArea: area,\n      party,\n      npcsPresent: area.npcs,\n      recentHistory,\n      historyContext: this.summarizeHistory?.(recentHistory),\n      dmGuidance: options?.dmGuidance,\n    };\n  }\n  \n  // Extension point - returns undefined by default (use full history)\n  // Override this method to implement summarization strategies\n  summarizeHistory?(events: CanonicalEvent[]): string {\n    // Default: no summarization\n    return undefined;\n  }\n}\n\n// Factory function for creating with injected dependencies\nexport function createContextBuilder(db: Database): ContextBuilder {\n  return new DefaultContextBuilder(\n    new GameRepository(db),\n    new EventRepository(db),\n    new AreaRepository(db),\n    new PartyRepository(db)\n  );\n}\n```\n\n## Extended GenerationContext\n\nThe GenerationContext returned includes additional resolved data:\n\n```typescript\ninterface ExtendedGenerationContext extends GenerationContext {\n  currentArea: Area \u0026 { exits: AreaExit[]; objects: AreaObject[] };\n  party: Character[];\n  npcsPresent: NPC[];\n}\n```\n\n## Summarization Extension Point\n\nFor Phase 3+ when context windows become a concern:\n\n```typescript\nclass SummarizingContextBuilder extends DefaultContextBuilder {\n  private aiProvider: AIProvider;\n  \n  async summarizeHistory(events: CanonicalEvent[]): string {\n    if (events.length \u003c 50) return undefined;  // Use full history\n    \n    // Summarize older events, keep recent ones verbatim\n    const recentCount = 10;\n    const recent = events.slice(-recentCount);\n    const older = events.slice(0, -recentCount);\n    \n    const summary = await this.aiProvider.execute({\n      prompt: `Summarize these RPG events concisely: ${JSON.stringify(older)}`\n    });\n    \n    return `Previous events summary: ${summary.content}\\n\\nRecent events: ${formatEvents(recent)}`;\n  }\n}\n```\n\n## Notes\n\n- Full history used for now (Phase 2)\n- Extension point ready for summarization (Phase 3+)\n- Repositories injected for testability\n- All data fetched in single build() call for efficiency","acceptance_criteria":"- [ ] DefaultContextBuilder class created\n- [ ] build() fetches game state from GameRepository\n- [ ] build() fetches area with details from AreaRepository\n- [ ] build() fetches party members from PartyRepository\n- [ ] build() fetches recent history from EventRepository\n- [ ] Returns complete GenerationContext with all resolved data\n- [ ] summarizeHistory extension point defined (returns undefined by default)\n- [ ] createContextBuilder factory function exported\n- [ ] Unit tests with mocked repositories\n- [ ] Integration test with real database\n- [ ] Handles missing game/area gracefully with errors","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T22:25:32.69164593Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:14.29421109Z","closed_at":"2026-01-11T09:17:14.29421109Z","close_reason":"Context builder implemented at packages/server/src/services/ai/context-builder.ts","labels":["ai","phase-2","server"],"dependencies":[{"issue_id":"reckoning-l3e","depends_on_id":"reckoning-3bw","type":"blocks","created_at":"2026-01-10T22:25:32.693078669Z","created_by":"unknown"},{"issue_id":"reckoning-l3e","depends_on_id":"reckoning-hbj","type":"blocks","created_at":"2026-01-10T22:25:32.694223372Z","created_by":"unknown"}]}
{"id":"reckoning-lf1","title":"E5: Game Stats Component","description":"dispatched_by: mayor\n\nCreate packages/client/src/components/game-stats.ts. Shows turn count, events, session duration.","status":"closed","priority":2,"issue_type":"task","assignee":"reckoning/polecats/blackfinger","created_at":"2026-01-11T09:07:58.822695314Z","created_by":"mayor","updated_at":"2026-01-11T09:19:21.921612952Z","closed_at":"2026-01-11T09:19:21.921612952Z","close_reason":"game-stats.ts merged to main","labels":["client","phase-2","ui"]}
{"id":"reckoning-lrgf","title":"Fix TTS service TypeScript errors","description":"dispatched_by: mayor\n\nFix TypeScript errors in packages/client/src/services/tts/index.ts:\n- Line 165: VoiceRole type issue\n- Line 173: preset property type incompatibility\nRun 'just typecheck' to verify fix.","status":"closed","priority":1,"issue_type":"bug","assignee":"reckoning/polecats/fury","created_at":"2026-01-11T17:09:36.101774623Z","created_by":"mayor","updated_at":"2026-01-11T17:44:27.925489354Z","closed_at":"2026-01-11T17:44:27.925489354Z","close_reason":"Merged to main, typecheck passes","labels":["client","tts"]}
{"id":"reckoning-mph","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-11T09:10:46.387146256Z","created_by":"Admin","updated_at":"2026-01-11T09:10:46.387146256Z"}
{"id":"reckoning-nwc","title":"Merge: capable-mk8ynwoc","description":"branch: polecat/capable-mk8ynwoc\ntarget: main\nsource_issue: capable-mk8ynwoc\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-capable\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:58:12.99247024Z","created_by":"reckoning/polecats/capable","updated_at":"2026-01-11T08:01:44.186889941Z","closed_at":"2026-01-11T08:01:44.186889941Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-nxb","title":"P3-2.2: Party State in Client","description":"Extend GameStateManager to include party state.\nFiles: packages/client/src/state/game-state.ts\nHandle SSE party_changed events","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-11T07:53:30.868276425Z","created_by":"Admin","updated_at":"2026-01-11T08:17:33.477343365Z","closed_at":"2026-01-11T08:17:33.477352846Z","labels":["client","phase-3","state"],"dependencies":[{"issue_id":"reckoning-nxb","depends_on_id":"reckoning-y2l","type":"blocks","created_at":"2026-01-11T07:53:30.869567001Z","created_by":"Admin"}]}
{"id":"reckoning-oh2","title":"Merge: bullet-mk9gng1a","description":"branch: polecat/bullet-mk9gng1a\ntarget: main\nsource_issue: bullet-mk9gng1a\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-bullet\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:22:45.148154211Z","created_by":"reckoning/polecats/bullet","updated_at":"2026-01-11T08:23:50.090468869Z","closed_at":"2026-01-11T08:23:50.090468869Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-on11","title":"Digest: mol-refinery-patrol","description":"Patrol complete: Queue empty, no merges this cycle","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:03:17.585819237Z","updated_at":"2026-01-11T11:03:17.585819237Z","closed_at":"2026-01-11T11:03:17.585764879Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-oos","title":"E5: Status Bar Component","description":"dispatched_by: mayor\n\nCreate packages/client/src/components/status-bar.ts. Shows AI/TTS/DB status.","status":"closed","priority":2,"issue_type":"task","assignee":"reckoning/polecats/fury","created_at":"2026-01-11T09:07:58.708548813Z","created_by":"mayor","updated_at":"2026-01-11T17:04:46.507691623Z","closed_at":"2026-01-11T17:04:46.507691623Z","close_reason":"status-bar.ts merged to main","labels":["client","phase-2","ui"]}
{"id":"reckoning-orss","title":"[A11Y] Add accessibility to Narrator Output - role=log, aria-live, role=article for entries in narrator-output.ts","description":"Blocked by reckoning-tpsi (a11y utils). Add ARIA attributes to narrator-output.ts for screen reader support and Playwright test selectors.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:56.700929464Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:56.700929464Z"}
{"id":"reckoning-p6m","title":"Merge: slit-mk8xmb9z","description":"branch: polecat/slit-mk8xmb9z\ntarget: main\nsource_issue: slit-mk8xmb9z\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:30:56.166453067Z","created_by":"reckoning/polecats/slit","updated_at":"2026-01-11T08:01:45.430035085Z","closed_at":"2026-01-11T08:01:45.430035085Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-p8u","title":"E5: Area Panel Component","description":"dispatched_by: mayor\n\nCreate packages/client/src/components/area-panel.ts. Shows location info, exits, NPCs.","status":"closed","priority":2,"issue_type":"task","assignee":"reckoning/polecats/wretched","created_at":"2026-01-11T09:07:58.599873845Z","created_by":"mayor","updated_at":"2026-01-11T09:20:36.788858106Z","closed_at":"2026-01-11T09:20:36.788858106Z","close_reason":"area-panel.ts merged to main","labels":["client","phase-2","ui"]}
{"id":"reckoning-pnkk","title":"[BUG] Add speaker field to TTSRequest type - extend shared/src/tts and client tts service to track speaker for speech bubbles","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:42.788457027Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:42.788457027Z"}
{"id":"reckoning-q1jd","title":"[TEST] Write Playwright E2E tests - story generation, editing, narrative history, speech bubbles using ARIA selectors","description":"After all bug fixes and a11y work complete. Write E2E tests using semantic ARIA selectors for story-generation, story-editing, narrative-history, and speech-bubbles test suites.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:09:09.917903893Z","created_by":"stiwi","updated_at":"2026-01-11T19:09:09.917903893Z"}
{"id":"reckoning-q5k","title":"E6: UI Components - Save/Load","description":"Create save/load modal component for game persistence.\n\nFile to create: packages/client/src/components/save-load-modal.ts\n\nFeatures:\n- Save modal with name input field\n- Load modal showing list of saved games\n- New Game option to start fresh\n- Delete save option with confirmation\n- Integration with GameService save/load methods","acceptance_criteria":"- [ ] Save modal accepts save name input\n- [ ] Load modal displays list of saved games\n- [ ] New Game option available\n- [ ] Delete save option with confirmation dialog\n- [ ] Modal integrates with GameService API methods","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T22:29:32.014987613Z","created_by":"stiwi","updated_at":"2026-01-11T09:17:31.95353011Z","closed_at":"2026-01-11T09:17:31.95353011Z","close_reason":"Save/load modal implemented at packages/client/src/components/save-load-modal.ts","labels":["client","phase-2","ui"],"dependencies":[{"issue_id":"reckoning-q5k","depends_on_id":"reckoning-fdi","type":"blocks","created_at":"2026-01-10T22:29:32.016184863Z","created_by":"unknown"}]}
{"id":"reckoning-qzk","title":"Merge: toecutter-mk9gnuh8","description":"branch: polecat/toecutter-mk9gnuh8\ntarget: main\nsource_issue: toecutter-mk9gnuh8\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-toecutter\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:26:17.64108786Z","created_by":"reckoning/polecats/toecutter","updated_at":"2026-01-11T08:27:33.953265801Z","closed_at":"2026-01-11T08:27:33.953265801Z","close_reason":"Redundant - functionality already merged in 11f9d0f","labels":["gt:merge-request"]}
{"id":"reckoning-reckoning-polecat-ace","title":"reckoning-reckoning-polecat-ace","description":"reckoning-reckoning-polecat-ace\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-ate\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-b1k\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:03:22.649141756Z","created_by":"mayor","updated_at":"2026-01-11T08:07:56.552941456Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-angharad","title":"reckoning-reckoning-polecat-angharad","description":"reckoning-reckoning-polecat-angharad\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-nxb\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:12:57.368606092Z","created_by":"mayor","updated_at":"2026-01-11T08:12:57.576947447Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-blackfinger","title":"reckoning-reckoning-polecat-blackfinger","description":"reckoning-reckoning-polecat-blackfinger\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-lf1\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-t4y\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:12:58.162576846Z","created_by":"mayor","updated_at":"2026-01-11T09:17:53.260030535Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:17:53.260030535Z","deleted_by":"reckoning/polecats/blackfinger","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-bullet","title":"reckoning-reckoning-polecat-bullet","description":"reckoning-reckoning-polecat-bullet\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-cih\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-oh2\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:17:00.257861694Z","created_by":"mayor","updated_at":"2026-01-11T08:22:45.786827057Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-bullet-farmer","title":"reckoning-reckoning-polecat-bullet-farmer","description":"reckoning-reckoning-polecat-bullet-farmer\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-0tz\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:09:29.914726171Z","created_by":"mayor","updated_at":"2026-01-11T09:09:30.098643551Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-buzzard","title":"reckoning-reckoning-polecat-buzzard","description":"reckoning-reckoning-polecat-buzzard\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-oos\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-eai\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:08:45.943530034Z","created_by":"mayor","updated_at":"2026-01-11T09:12:25.670285286Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:12:25.670285286Z","deleted_by":"reckoning/polecats/buzzard","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-capable","title":"reckoning-reckoning-polecat-capable","description":"reckoning-reckoning-polecat-capable\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-dtf\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-10T22:59:12.019816709Z","created_by":"mayor","updated_at":"2026-01-11T00:36:07.229732485Z","labels":["gt:agent"],"deleted_at":"2026-01-11T00:36:07.229732485Z","deleted_by":"mayor","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-cheedo","title":"reckoning-reckoning-polecat-cheedo","description":"reckoning-reckoning-polecat-cheedo\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-9ia\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T00:33:23.278097525Z","created_by":"mayor","updated_at":"2026-01-11T00:33:23.489906702Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-chrome","title":"reckoning-reckoning-polecat-chrome","description":"reckoning-reckoning-polecat-chrome\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: hq-leg-7iemg\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:16:56.459841015Z","created_by":"Admin","updated_at":"2026-01-11T09:16:56.723923073Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-chumbucket","title":"reckoning-reckoning-polecat-chumbucket","description":"reckoning-reckoning-polecat-chumbucket\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-c7h\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:24:57.83203639Z","created_by":"mayor","updated_at":"2026-01-11T08:24:58.027051937Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-citadel","title":"reckoning-reckoning-polecat-citadel","description":"reckoning-reckoning-polecat-citadel\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-bbn\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-dj6\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:09:52.123755439Z","created_by":"mayor","updated_at":"2026-01-11T09:16:44.753742238Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:16:44.753742238Z","deleted_by":"reckoning/polecats/citadel","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-coma","title":"reckoning-reckoning-polecat-coma","description":"reckoning-reckoning-polecat-coma\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-a33\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-e2s\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:10:01.120695725Z","created_by":"mayor","updated_at":"2026-01-11T08:14:03.899572523Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-corpus","title":"reckoning-reckoning-polecat-corpus","description":"reckoning-reckoning-polecat-corpus\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-6yk\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:27:17.074465261Z","created_by":"mayor","updated_at":"2026-01-11T08:27:17.264232753Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-dag","title":"reckoning-reckoning-polecat-dag","description":"reckoning-reckoning-polecat-dag\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-abi\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T00:18:13.70449958Z","created_by":"mayor","updated_at":"2026-01-11T00:32:40.912721756Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-dementus","title":"reckoning-reckoning-polecat-dementus","description":"reckoning-reckoning-polecat-dementus\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-2vq\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-10T22:58:51.307726313Z","created_by":"mayor","updated_at":"2026-01-10T23:08:58.032461097Z","labels":["gt:agent"],"deleted_at":"2026-01-10T23:08:58.032461097Z","deleted_by":"mayor","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-dinki","title":"reckoning-reckoning-polecat-dinki","description":"reckoning-reckoning-polecat-dinki\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-447\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-evq\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:30:13.220505353Z","created_by":"mayor","updated_at":"2026-01-11T08:38:43.473941752Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-furiosa","title":"reckoning-reckoning-polecat-furiosa","description":"reckoning-reckoning-polecat-furiosa\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-4ot\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-10T22:47:55.605947424Z","created_by":"mayor","updated_at":"2026-01-10T23:25:49.602794671Z","labels":["gt:agent"],"deleted_at":"2026-01-10T23:25:49.602794671Z","deleted_by":"mayor","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-fury","title":"reckoning-reckoning-polecat-fury","description":"reckoning-reckoning-polecat-fury\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-work\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-xur\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:11:22.580238155Z","created_by":"mayor","updated_at":"2026-01-11T17:13:01.221810266Z","labels":["gt:agent"],"deleted_at":"2026-01-11T17:13:01.221810266Z","deleted_by":"reckoning/polecats/fury","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-gastown","title":"reckoning-reckoning-polecat-gastown","description":"reckoning-reckoning-polecat-gastown\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-lf1\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-2fb\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:09:07.686296762Z","created_by":"mayor","updated_at":"2026-01-11T09:13:08.974720183Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:13:08.974720183Z","deleted_by":"reckoning/polecats/gastown","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-glory","title":"reckoning-reckoning-polecat-glory","description":"reckoning-reckoning-polecat-glory\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-bzb\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:19:00.825843675Z","created_by":"mayor","updated_at":"2026-01-11T08:19:01.02220489Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-goose","title":"reckoning-reckoning-polecat-goose","description":"reckoning-reckoning-polecat-goose\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-3re\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-gzx\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:17:39.355025628Z","created_by":"mayor","updated_at":"2026-01-11T08:24:30.08350433Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-immortan","title":"reckoning-reckoning-polecat-immortan","description":"reckoning-reckoning-polecat-immortan\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-csv\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:15:51.525734519Z","created_by":"mayor","updated_at":"2026-01-11T08:15:51.709935986Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-imperator","title":"reckoning-reckoning-polecat-imperator","description":"reckoning-reckoning-polecat-imperator\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-2no\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-7i0\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:03:57.810843237Z","created_by":"mayor","updated_at":"2026-01-11T08:32:19.299902336Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-interceptor","title":"reckoning-reckoning-polecat-interceptor","description":"reckoning-reckoning-polecat-interceptor\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-oos\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-55c\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:12:34.876882305Z","created_by":"mayor","updated_at":"2026-01-11T09:29:13.711497673Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:29:13.711497673Z","deleted_by":"reckoning/polecats/interceptor","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-keeper","title":"reckoning-reckoning-polecat-keeper","description":"reckoning-reckoning-polecat-keeper\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-y2l\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-sn2\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T07:58:26.32928006Z","created_by":"mayor","updated_at":"2026-01-11T08:03:56.412493139Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-max","title":"reckoning-reckoning-polecat-max","description":"reckoning-reckoning-polecat-max\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-01j\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:13:59.41982093Z","created_by":"mayor","updated_at":"2026-01-11T08:13:59.628201078Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-morsov","title":"reckoning-reckoning-polecat-morsov","description":"reckoning-reckoning-polecat-morsov\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-gza\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-034\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T07:59:35.820424965Z","created_by":"mayor","updated_at":"2026-01-11T08:06:07.179145687Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-nightrider","title":"reckoning-reckoning-polecat-nightrider","description":"reckoning-reckoning-polecat-nightrider\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-j2n\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:18:40.732386003Z","created_by":"mayor","updated_at":"2026-01-11T08:18:40.923031543Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-nux","title":"reckoning-reckoning-polecat-nux","description":"reckoning-reckoning-polecat-nux\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-8jy\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-10T22:48:58.78263457Z","created_by":"mayor","updated_at":"2026-01-11T00:36:07.852956658Z","labels":["gt:agent"],"deleted_at":"2026-01-11T00:36:07.852956658Z","deleted_by":"mayor","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-organic","title":"reckoning-reckoning-polecat-organic","description":"reckoning-reckoning-polecat-organic\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-efc\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-dof\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:09:43.291406109Z","created_by":"mayor","updated_at":"2026-01-11T08:16:13.639975875Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-prime","title":"reckoning-reckoning-polecat-prime","description":"reckoning-reckoning-polecat-prime\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-2g0\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-7m5\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:05:58.557019114Z","created_by":"mayor","updated_at":"2026-01-11T09:13:39.907852345Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:13:39.907852345Z","deleted_by":"reckoning/polecats/prime","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-rictus","title":"reckoning-reckoning-polecat-rictus","description":"reckoning-reckoning-polecat-rictus\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-9vu\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-10T22:58:33.686872747Z","created_by":"mayor","updated_at":"2026-01-11T00:36:08.817148952Z","labels":["gt:agent"],"deleted_at":"2026-01-11T00:36:08.817148952Z","deleted_by":"mayor","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-road-warrior","title":"reckoning-reckoning-polecat-road-warrior","description":"reckoning-reckoning-polecat-road-warrior\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-work\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-2xz\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:11:49.735666415Z","created_by":"mayor","updated_at":"2026-01-11T17:23:36.928558703Z","labels":["gt:agent"],"deleted_at":"2026-01-11T17:23:36.928558703Z","deleted_by":"reckoning/polecats/road-warrior","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-rockryder","title":"reckoning-reckoning-polecat-rockryder","description":"reckoning-reckoning-polecat-rockryder\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-bbn\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-ufc\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:06:58.316726854Z","created_by":"mayor","updated_at":"2026-01-11T09:17:36.669813993Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:17:36.669813993Z","deleted_by":"reckoning/polecats/rockryder","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-scrotus","title":"reckoning-reckoning-polecat-scrotus","description":"reckoning-reckoning-polecat-scrotus\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-ah1\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-9pv\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:24:38.478058841Z","created_by":"mayor","updated_at":"2026-01-11T08:31:28.068600961Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-slit","title":"reckoning-reckoning-polecat-slit","description":"reckoning-reckoning-polecat-slit\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-4ot\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-10T22:45:53.883342263Z","created_by":"mayor","updated_at":"2026-01-11T05:04:44.677561598Z","labels":["gt:agent"],"deleted_at":"2026-01-11T05:04:44.677561598Z","deleted_by":"mayor","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-splendid","title":"reckoning-reckoning-polecat-splendid","description":"reckoning-reckoning-polecat-splendid\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-2g0\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:10:18.341549914Z","created_by":"mayor","updated_at":"2026-01-11T08:11:10.901008556Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-toast","title":"reckoning-reckoning-polecat-toast","description":"reckoning-reckoning-polecat-toast\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-8ux\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T00:17:45.039491821Z","created_by":"mayor","updated_at":"2026-01-11T00:31:59.696240281Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-toecutter","title":"reckoning-reckoning-polecat-toecutter","description":"reckoning-reckoning-polecat-toecutter\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-uxm\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-qzk\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:17:18.958789942Z","created_by":"mayor","updated_at":"2026-01-11T08:26:18.212978692Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-valkyrie","title":"reckoning-reckoning-polecat-valkyrie","description":"reckoning-reckoning-polecat-valkyrie\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-9ia\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T00:34:41.196742485Z","created_by":"mayor","updated_at":"2026-01-11T00:34:41.397610668Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-vuvalini","title":"reckoning-reckoning-polecat-vuvalini","description":"reckoning-reckoning-polecat-vuvalini\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-0tz\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-8sw\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:06:38.317136495Z","created_by":"mayor","updated_at":"2026-01-11T09:15:23.152778901Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:15:23.152778901Z","deleted_by":"reckoning/polecats/vuvalini","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-warboy","title":"reckoning-reckoning-polecat-warboy","description":"reckoning-reckoning-polecat-warboy\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-jeu\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-9gfq\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T08:03:40.177272349Z","created_by":"mayor","updated_at":"2026-01-11T17:16:57.930419192Z","labels":["gt:agent"],"deleted_at":"2026-01-11T17:16:57.930419192Z","deleted_by":"reckoning/polecats/warboy","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-wasteland","title":"reckoning-reckoning-polecat-wasteland","description":"reckoning-reckoning-polecat-wasteland\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-p8u\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:10:47.241248165Z","created_by":"mayor","updated_at":"2026-01-11T09:10:47.456306126Z","labels":["gt:agent"]}
{"id":"reckoning-reckoning-polecat-witness","title":"reckoning-reckoning-polecat-witness","description":"reckoning-reckoning-polecat-witness\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-bbn\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-1sd\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:14:57.647672525Z","created_by":"mayor","updated_at":"2026-01-11T09:24:04.849806536Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:24:04.849806536Z","deleted_by":"reckoning/polecats/witness","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-wraith","title":"reckoning-reckoning-polecat-wraith","description":"reckoning-reckoning-polecat-wraith\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-0tz\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-enr\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:13:42.069359385Z","created_by":"mayor","updated_at":"2026-01-11T09:21:42.396721856Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:21:42.396721856Z","deleted_by":"reckoning/polecats/wraith","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-reckoning-polecat-wretched","title":"reckoning-reckoning-polecat-wretched","description":"reckoning-reckoning-polecat-wretched\n\nrole_type: polecat\nrig: reckoning\nagent_state: spawning\nhook_bead: reckoning-p8u\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: reckoning-9xu\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-11T09:08:23.858625852Z","created_by":"mayor","updated_at":"2026-01-11T09:11:29.019491072Z","labels":["gt:agent"],"deleted_at":"2026-01-11T09:11:29.019491072Z","deleted_by":"reckoning/polecats/wretched","delete_reason":"delete","original_type":"agent"}
{"id":"reckoning-rig-reckoning","title":"reckoning","description":"Rig identity bead for reckoning.\n\nrepo: /home/admin/workspace/reckoning\nprefix: reckoning\nstate: active","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T09:10:48.031612636Z","created_by":"Admin","updated_at":"2026-01-11T09:10:48.031612636Z","labels":["gt:rig"]}
{"id":"reckoning-ryq0","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, 0 branches merged, no issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T19:04:00.603725683Z","updated_at":"2026-01-11T19:04:00.603725683Z","closed_at":"2026-01-11T19:04:00.603693018Z","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"reckoning-ryq0","depends_on_id":"reckoning-wisp-h0g","type":"parent-child","created_at":"2026-01-11T19:04:00.604436822Z","created_by":"reckoning/refinery"}]}
{"id":"reckoning-s06j","title":"Merge: fury-mk9zg8kc","description":"branch: polecat/fury-mk9zg8kc\ntarget: main\nsource_issue: fury-mk9zg8kc\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:03:37.348811001Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T17:07:44.163738818Z","closed_at":"2026-01-11T17:07:44.163738818Z","close_reason":"Stale MR - branch already merged or cleaned up","labels":["gt:merge-request"]}
{"id":"reckoning-s1lv","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no merges","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:25:23.41452859Z","updated_at":"2026-01-11T11:25:23.41452859Z","closed_at":"2026-01-11T11:25:23.414490648Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-s7y","title":"Merge: furiosa-mk8yn797","description":"branch: polecat/furiosa-mk8yn797\ntarget: main\nsource_issue: furiosa-mk8yn797\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T00:18:32.324870123Z","created_by":"reckoning/polecats/furiosa","updated_at":"2026-01-11T08:01:43.970957683Z","closed_at":"2026-01-11T08:01:43.970957683Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-sgig","title":"Digest: mol-refinery-patrol","description":"Patrol: merged 1 branch (warboy-mk9g6apd), resolved SSEEvent export conflict, 443 tests passed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:59:30.97436089Z","updated_at":"2026-01-11T17:59:30.97436089Z","closed_at":"2026-01-11T17:59:30.974326018Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-slwi","title":"[A11Y] Add accessibility to Party Panel - role=list, listitem for cards, aria-labels, focusable in party-panel.ts","description":"Blocked by reckoning-tpsi (a11y utils). Add ARIA attributes to party-panel.ts for screen reader support and Playwright test selectors.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:56.802621099Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:56.802621099Z"}
{"id":"reckoning-sn2","title":"Merge: keeper-mk9fzkjb","description":"branch: polecat/keeper-mk9fzkjb\ntarget: main\nsource_issue: keeper-mk9fzkjb\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-keeper\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:03:55.894372116Z","created_by":"reckoning/polecats/keeper","updated_at":"2026-01-11T08:06:41.38196754Z","closed_at":"2026-01-11T08:06:41.38196754Z","close_reason":"Merged to main","labels":["gt:merge-request"]}
{"id":"reckoning-t4y","title":"Merge: blackfinger-mk9inf00","description":"branch: polecat/blackfinger-mk9inf00\ntarget: main\nsource_issue: blackfinger-mk9inf00\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-blackfinger\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:17:51.90218029Z","created_by":"reckoning/polecats/blackfinger","updated_at":"2026-01-11T09:24:23.14649822Z","closed_at":"2026-01-11T09:24:23.14649822Z","close_reason":"No new commits - branch already at main","labels":["gt:merge-request"]}
{"id":"reckoning-tdt","title":"P3-UI: Integrate Phase 3 components into main client","description":"Wire up existing components into main.ts and index.html:\n\nComponents to integrate:\n- party-panel.ts (party members with health bars)\n- beat-editor.ts (replace/augment dm-editor)\n- speech-bubble.ts (dialogue display on party cards)\n- status-bar.ts (game status display)\n- area-panel.ts (current location info)\n\nTasks:\n1. Update index.html layout to add container divs for new components\n2. Import and initialize components in main.ts\n3. Connect to GameStateManager for state updates\n4. Wire up SSE events for real-time updates\n5. Test full integration flow","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-11T17:16:44.661474323Z","created_by":"stiwi","updated_at":"2026-01-11T17:16:44.661474323Z","labels":["client","integration","phase-3","ui"]}
{"id":"reckoning-tl4r","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ empty, no merges, standing by","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:27:53.65000255Z","updated_at":"2026-01-11T14:27:53.65000255Z","closed_at":"2026-01-11T14:27:53.649967527Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-tpsi","title":"[A11Y] Create accessibility helper utilities - packages/client/src/utils/a11y.ts with setAriaLabel, setRole, makeFocusable, announceToScreenReader","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:42.676195642Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:42.676195642Z"}
{"id":"reckoning-u3po","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ empty, no branches processed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T13:10:37.428470955Z","updated_at":"2026-01-11T13:10:37.428470955Z","closed_at":"2026-01-11T13:10:37.42843408Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-ufc","title":"Merge: rockryder-mk9ifpd4","description":"branch: polecat/rockryder-mk9ifpd4\ntarget: main\nsource_issue: rockryder-mk9ifpd4\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-rockryder\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:16:42.953962637Z","created_by":"reckoning/polecats/rockryder","updated_at":"2026-01-11T09:24:22.927076351Z","closed_at":"2026-01-11T09:24:22.927076351Z","close_reason":"No new commits - branch already at main","labels":["gt:merge-request"]}
{"id":"reckoning-uxm","title":"P3-1.5: Update Game Creation Flow","description":"Modify game creation to auto-create party and player character.\nFiles: packages/server/src/routes/game.ts","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-11T07:53:43.533784086Z","created_by":"Admin","updated_at":"2026-01-11T08:27:01.140206619Z","closed_at":"2026-01-11T08:27:01.140206619Z","close_reason":"MR qzk submitted by toecutter","labels":["api","game","phase-3","server"],"dependencies":[{"issue_id":"reckoning-uxm","depends_on_id":"reckoning-efc","type":"blocks","created_at":"2026-01-11T07:53:43.535458458Z","created_by":"Admin"},{"issue_id":"reckoning-uxm","depends_on_id":"reckoning-a33","type":"blocks","created_at":"2026-01-11T07:53:43.536662242Z","created_by":"Admin"}]}
{"id":"reckoning-vtb","title":"P3-5.3: World Generation UI Flow","description":"Add world generation step to new game flow: loading states with progress indicators, DM preview modal for generated world, ability to edit area descriptions, regenerate option, and acceptance flow before game start.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T09:21:32.039162809Z","created_by":"stiwi","updated_at":"2026-01-11T09:21:32.039162809Z","labels":["client","phase-3","ui","world-gen"]}
{"id":"reckoning-wcp9","title":"Digest: mol-refinery-patrol","description":"Patrol: Queue empty, 0 branches processed, no issues","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:24:55.508536784Z","updated_at":"2026-01-11T16:24:55.508536784Z","closed_at":"2026-01-11T16:24:55.508503072Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-wisp-01g","title":"Scan merge queue","description":"Check the beads merge queue - this is the SOURCE OF TRUTH for pending merges.\n\n```bash\ngit fetch --prune origin\ngt mq list \u003crig\u003e\n```\n\nThe beads MQ tracks all pending merge requests. Do NOT rely on `git branch -r | grep polecat`\nas branches may exist without MR beads, or MR beads may exist for already-merged work.\n\nIf queue empty, skip to context-check step.\n\nFor each MR in the queue, verify the branch still exists:\n```bash\ngit branch -r | grep \u003cbranch\u003e\n```\n\nIf branch doesn't exist for a queued MR:\n- Close the MR bead: `bd close \u003cmr-id\u003e --reason \"Branch no longer exists\"`\n- Remove from processing queue\n\nTrack verified MR list for this cycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T09:22:08.640542542Z","updated_at":"2026-01-11T09:22:08.640542582Z","ephemeral":true}
{"id":"reckoning-wisp-13l","title":"Merge and push to main","description":"Merge to main and push. CRITICAL: Notifications come IMMEDIATELY after push.\n\n**Step 1: Merge and Push**\n```bash\ngit checkout main\ngit merge --ff-only temp\ngit push origin main\n```\n\n‚ö†Ô∏è **STOP HERE - DO NOT PROCEED UNTIL STEPS 2-3 COMPLETE**\n\n**Step 2: Send MERGED Notification (REQUIRED - DO THIS IMMEDIATELY)**\n\nRIGHT NOW, before any cleanup, send MERGED mail to Witness:\n\n```bash\ngt mail send \u003crig\u003e/witness -s \"MERGED \u003cpolecat-name\u003e\" -m \"Branch: \u003cbranch\u003e\nIssue: \u003cissue-id\u003e\nMerged-At: $(date -u +%Y-%m-%dT%H:%M:%SZ)\"\n```\n\nThis signals the Witness to nuke the polecat worktree. WITHOUT THIS NOTIFICATION,\nPOLECAT WORKTREES ACCUMULATE INDEFINITELY AND THE LIFECYCLE BREAKS.\n\n**Step 3: Close MR Bead (REQUIRED - DO THIS IMMEDIATELY)**\n\n‚ö†Ô∏è **VERIFICATION BEFORE CLOSING**: Confirm the work is actually on main:\n```bash\n# Get the commit message/issue from the branch\ngit log origin/main --oneline | grep \"\u003cissue-id\u003e\"\n# OR verify the commit SHA is on main:\ngit branch --contains \u003ccommit-sha\u003e | grep main\n```\n\nIf work is NOT on main, DO NOT close the MR bead. Investigate first.\n\n```bash\nbd close \u003cmr-bead-id\u003e --reason \"Merged to main at $(git rev-parse --short HEAD)\"\n```\n\nThe MR bead ID was in the MERGE_READY message or find via:\n```bash\nbd list --type=merge-request --status=open | grep \u003cpolecat-name\u003e\n```\n\n**VALIDATION**: The MR bead's source_issue should be a valid bead ID (gt-xxxxx),\nnot a branch name. If source_issue contains a branch name, flag for investigation.\n\n**Step 4: Archive the MERGE_READY mail (REQUIRED)**\n```bash\ngt mail archive \u003cmerge-ready-message-id\u003e\n```\nThe message ID was tracked when you processed inbox-check.\n\n**Step 5: Cleanup (only after Steps 2-4 confirmed)**\n```bash\ngit branch -d temp\ngit push origin --delete \u003cpolecat-branch\u003e\n```\n\n**VERIFICATION GATE**: You CANNOT proceed to loop-check without:\n- [x] MERGED mail sent to witness\n- [x] MR bead closed\n- [x] MERGE_READY mail archived\n\nIf you skipped notifications or archiving, GO BACK AND DO THEM NOW.\n\nMain has moved. Any remaining branches need rebasing on new baseline.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T09:49:59.489006945Z","updated_at":"2026-01-11T09:49:59.489006984Z","ephemeral":true}
{"id":"reckoning-wisp-1qm","title":"Generate handoff summary","description":"Summarize this patrol cycle.\n\n**VERIFICATION**: Before generating summary, confirm for each merged branch:\n- [ ] MERGED mail was sent to witness\n- [ ] MR bead was closed\n- [ ] MERGE_READY mail archived\n\nIf any notifications or archiving were missed, do them now!\n\nInclude in summary:\n- Branches merged (count, names)\n- MERGED mails sent (count - should match branches merged)\n- MR beads closed (count - should match branches merged)\n- MERGE_READY mails archived (count - should match branches merged)\n- Test results (pass/fail)\n- Branches with conflicts (count, names)\n- Conflict-resolution tasks created (IDs)\n- Issues filed (if any)\n- Any escalations sent\n\n**Conflict tracking is important** for monitoring MQ health. If many branches\nconflict, it may indicate main is moving too fast or branches are too stale.\n\nThis becomes the digest when the patrol is squashed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T09:49:59.489618785Z","updated_at":"2026-01-11T09:49:59.489618823Z","ephemeral":true}
{"id":"reckoning-wisp-2im","title":"Check refinery mail","description":"Check mail for MERGE_READY submissions, escalations, and messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**MERGE_READY**:\nA polecat's work is ready for merge. Extract details and track for processing.\n\n```bash\n# Parse MERGE_READY message body:\n# Branch: \u003cbranch\u003e\n# Issue: \u003cissue-id\u003e\n# Polecat: \u003cpolecat-name\u003e\n# MR: \u003cmr-bead-id\u003e\n# Verified: clean git state, issue closed\n\n# Track in your merge queue for this patrol cycle:\n# - Branch name\n# - Issue ID\n# - Polecat name (REQUIRED for MERGED notification)\n# - MR bead ID (REQUIRED for closing after merge)\n```\n\n**IMPORTANT**: You MUST track the polecat name, MR bead ID, AND message ID - you will need them\nin merge-push step to send MERGED notification, close the MR bead, and archive the mail.\n\nMark as read. The work will be processed in queue-scan/process-branch.\n**Do NOT archive yet** - archive after merge/reject decision in merge-push step.\n\n**PATROL: Wake up**:\nWitness detected MRs waiting but refinery idle. Acknowledge and archive:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HELP / Blocked**:\nAssess and respond. If you can't help, escalate to Mayor.\nArchive after handling:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Check for in-flight merges.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: pending MRs in queue. Inbox should be near-empty.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:43:57.224492927Z","updated_at":"2026-01-11T16:44:15.881952774Z","closed_at":"2026-01-11T16:44:15.881952774Z","close_reason":"Closed","ephemeral":true}
{"id":"reckoning-wisp-2zi","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGE_READY              ‚îÇ                           ‚îÇ\n   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (verify branch)                   ‚îÇ\n   ‚îÇ                          ‚îÇ fetch \u0026 rebase            ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (run tests)                       ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (if pass)                         ‚îÇ\n   ‚îÇ                          ‚îÇ merge \u0026 push              ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGED                   ‚îÇ                           ‚îÇ\n   ‚îÇ\u003c‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-11T11:11:34.969162834Z","updated_at":"2026-01-11T11:11:34.969162866Z","ephemeral":true}
{"id":"reckoning-wisp-328","title":"Burn and respawn or loop","description":"End of patrol cycle decision.\n\n**Step 1: Estimate remaining context**\n\nAsk yourself:\n- Have I processed many branches this cycle?\n- Is the conversation getting long?\n- Am I starting to lose track of earlier context?\n\nRule of thumb: If you've done 3+ merges or processed significant cleanup work,\nit's time for a fresh session.\n\n**Step 2: Decision tree**\n\nIf queue non-empty AND context LOW:\n- Squash this wisp to digest\n- Spawn fresh patrol wisp\n- Return to inbox-check\n\nIf queue empty OR context HIGH OR good stopping point:\n- Squash wisp with summary digest\n- Use `gt handoff` for clean session transition:\n\n```bash\ngt handoff -s \"Patrol complete\" -m \"Merged X branches, Y tests passed.\nQueue: empty/N remaining\nNext: [any notes for successor]\"\n```\n\n**Why gt handoff?**\n- Sends handoff mail to yourself with context\n- Respawns with fresh Claude instance\n- SessionStart hook runs gt prime\n- Successor picks up from your hook\n\n**DO NOT just exit.** Always use `gt handoff` for proper lifecycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T11:40:36.388668248Z","updated_at":"2026-01-11T11:40:36.388668287Z","dependencies":[{"issue_id":"reckoning-wisp-328","depends_on_id":"reckoning-wisp-5l2","type":"blocks","created_at":"2026-01-11T11:40:36.415219315Z","created_by":"reckoning/refinery"}],"ephemeral":true}
{"id":"reckoning-wisp-3bq","title":"Merge and push to main","description":"Merge to main and push. CRITICAL: Notifications come IMMEDIATELY after push.\n\n**Step 1: Merge and Push**\n```bash\ngit checkout main\ngit merge --ff-only temp\ngit push origin main\n```\n\n‚ö†Ô∏è **STOP HERE - DO NOT PROCEED UNTIL STEPS 2-3 COMPLETE**\n\n**Step 2: Send MERGED Notification (REQUIRED - DO THIS IMMEDIATELY)**\n\nRIGHT NOW, before any cleanup, send MERGED mail to Witness:\n\n```bash\ngt mail send \u003crig\u003e/witness -s \"MERGED \u003cpolecat-name\u003e\" -m \"Branch: \u003cbranch\u003e\nIssue: \u003cissue-id\u003e\nMerged-At: $(date -u +%Y-%m-%dT%H:%M:%SZ)\"\n```\n\nThis signals the Witness to nuke the polecat worktree. WITHOUT THIS NOTIFICATION,\nPOLECAT WORKTREES ACCUMULATE INDEFINITELY AND THE LIFECYCLE BREAKS.\n\n**Step 3: Close MR Bead (REQUIRED - DO THIS IMMEDIATELY)**\n\n‚ö†Ô∏è **VERIFICATION BEFORE CLOSING**: Confirm the work is actually on main:\n```bash\n# Get the commit message/issue from the branch\ngit log origin/main --oneline | grep \"\u003cissue-id\u003e\"\n# OR verify the commit SHA is on main:\ngit branch --contains \u003ccommit-sha\u003e | grep main\n```\n\nIf work is NOT on main, DO NOT close the MR bead. Investigate first.\n\n```bash\nbd close \u003cmr-bead-id\u003e --reason \"Merged to main at $(git rev-parse --short HEAD)\"\n```\n\nThe MR bead ID was in the MERGE_READY message or find via:\n```bash\nbd list --type=merge-request --status=open | grep \u003cpolecat-name\u003e\n```\n\n**VALIDATION**: The MR bead's source_issue should be a valid bead ID (gt-xxxxx),\nnot a branch name. If source_issue contains a branch name, flag for investigation.\n\n**Step 4: Archive the MERGE_READY mail (REQUIRED)**\n```bash\ngt mail archive \u003cmerge-ready-message-id\u003e\n```\nThe message ID was tracked when you processed inbox-check.\n\n**Step 5: Cleanup (only after Steps 2-4 confirmed)**\n```bash\ngit branch -d temp\ngit push origin --delete \u003cpolecat-branch\u003e\n```\n\n**VERIFICATION GATE**: You CANNOT proceed to loop-check without:\n- [x] MERGED mail sent to witness\n- [x] MR bead closed\n- [x] MERGE_READY mail archived\n\nIf you skipped notifications or archiving, GO BACK AND DO THEM NOW.\n\nMain has moved. Any remaining branches need rebasing on new baseline.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:18:53.874194056Z","updated_at":"2026-01-11T11:19:24.702588579Z","closed_at":"2026-01-11T11:19:24.702588579Z","close_reason":"N/A: queue empty","dependencies":[{"issue_id":"reckoning-wisp-3bq","depends_on_id":"reckoning-wisp-4t1","type":"blocks","created_at":"2026-01-11T11:18:53.892994403Z","created_by":"reckoning/refinery"}],"ephemeral":true}
{"id":"reckoning-wisp-3iv","title":"Run test suite","description":"Run the test suite.\n\n```bash\ngo test ./...\n```\n\nTrack results: pass count, fail count, specific failures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T16:43:57.225525671Z","updated_at":"2026-01-11T16:43:57.225525736Z","dependencies":[{"issue_id":"reckoning-wisp-3iv","depends_on_id":"reckoning-wisp-8ze","type":"blocks","created_at":"2026-01-11T16:43:57.247130148Z","created_by":"reckoning/refinery"}],"ephemeral":true}
{"id":"reckoning-wisp-44w","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGE_READY              ‚îÇ                           ‚îÇ\n   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (verify branch)                   ‚îÇ\n   ‚îÇ                          ‚îÇ fetch \u0026 rebase            ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (run tests)                       ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (if pass)                         ‚îÇ\n   ‚îÇ                          ‚îÇ merge \u0026 push              ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGED                   ‚îÇ                           ‚îÇ\n   ‚îÇ\u003c‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"closed","priority":2,"issue_type":"epic","assignee":"reckoning/refinery","created_at":"2026-01-11T18:19:13.967086164Z","updated_at":"2026-01-11T18:24:59.089840537Z","closed_at":"2026-01-11T18:24:59.089840537Z","close_reason":"Patrol complete: queue empty, no branches to merge","ephemeral":true}
{"id":"reckoning-wisp-48k","title":"Scan merge queue","description":"Check the beads merge queue - this is the SOURCE OF TRUTH for pending merges.\n\n```bash\ngit fetch --prune origin\ngt mq list \u003crig\u003e\n```\n\nThe beads MQ tracks all pending merge requests. Do NOT rely on `git branch -r | grep polecat`\nas branches may exist without MR beads, or MR beads may exist for already-merged work.\n\nIf queue empty, skip to context-check step.\n\nFor each MR in the queue, verify the branch still exists:\n```bash\ngit branch -r | grep \u003cbranch\u003e\n```\n\nIf branch doesn't exist for a queued MR:\n- Close the MR bead: `bd close \u003cmr-id\u003e --reason \"Branch no longer exists\"`\n- Remove from processing queue\n\nTrack verified MR list for this cycle.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:18:53.873003653Z","updated_at":"2026-01-11T11:19:11.965534179Z","closed_at":"2026-01-11T11:19:11.965534179Z","close_reason":"Queue empty: 0 branches pending","ephemeral":true}
{"id":"reckoning-wisp-4t1","title":"Handle test failures","description":"**VERIFICATION GATE**: This step enforces the Beads Promise.\n\nIf tests PASSED: This step auto-completes. Proceed to merge.\n\nIf tests FAILED:\n1. Diagnose: Is this a branch regression or pre-existing on main?\n2. If branch caused it:\n   - Abort merge\n   - Notify polecat: \"Tests failing. Please fix and resubmit.\"\n   - Skip to loop-check\n3. If pre-existing on main:\n   - Option A: Fix it yourself (you're the Engineer!)\n   - Option B: File a bead: bd create --type=bug --priority=1 --title=\"...\"\n\n**GATE REQUIREMENT**: You CANNOT proceed to merge-push without:\n- Tests passing, OR\n- Fix committed, OR\n- Bead filed for the failure\n\nThis is non-negotiable. Never disavow. Never \"note and proceed.\" ","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T11:18:53.87391757Z","updated_at":"2026-01-11T11:19:23.899085278Z","closed_at":"2026-01-11T11:19:23.899085278Z","close_reason":"N/A: queue empty","ephemeral":true}
{"id":"reckoning-wisp-5l2","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nInbox should contain ONLY:\n- Unprocessed MERGE_READY messages (will process next cycle)\n- Active work items\n\n**Step 2: Archive any stale messages**\n\nLook for messages that were processed but not archived:\n- PATROL: Wake up that was acknowledged ‚Üí archive\n- HELP/Blocked that was handled ‚Üí archive\n- MERGE_READY where merge completed but archive was missed ‚Üí archive\n\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Step 3: Check for orphaned MR beads**\n\nLook for open MR beads with no corresponding branch:\n```bash\nbd list --type=merge-request --status=open\n```\n\nFor each open MR bead:\n1. Check if branch exists: `git ls-remote origin refs/heads/\u003cbranch\u003e`\n2. If branch gone, verify work is on main: `git log origin/main --oneline | grep \"\u003csource_issue\u003e\"`\n3. If work on main ‚Üí close MR with reason \"Merged (verified on main)\"\n4. If work NOT on main ‚Üí investigate before closing:\n   - Check source_issue validity (should be gt-xxxxx, not branch name)\n   - Search reflog/dangling commits if possible\n   - If unverifiable, close with reason \"Unverifiable - no audit trail\"\n   - File bead if this indicates lost work\n\n**NEVER close an MR bead without verifying the work landed or is unrecoverable.**\n\n**Goal**: Inbox should have ‚â§3 active messages at end of cycle.\nKeep only: pending MRs in queue.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T11:40:36.388357411Z","updated_at":"2026-01-11T11:40:36.388357451Z","ephemeral":true}
{"id":"reckoning-wisp-8vr","title":"Handle test failures","description":"**VERIFICATION GATE**: This step enforces the Beads Promise.\n\nIf tests PASSED: This step auto-completes. Proceed to merge.\n\nIf tests FAILED:\n1. Diagnose: Is this a branch regression or pre-existing on main?\n2. If branch caused it:\n   - Abort merge\n   - Notify polecat: \"Tests failing. Please fix and resubmit.\"\n   - Skip to loop-check\n3. If pre-existing on main:\n   - Option A: Fix it yourself (you're the Engineer!)\n   - Option B: File a bead: bd create --type=bug --priority=1 --title=\"...\"\n\n**GATE REQUIREMENT**: You CANNOT proceed to merge-push without:\n- Tests passing, OR\n- Fix committed, OR\n- Bead filed for the failure\n\nThis is non-negotiable. Never disavow. Never \"note and proceed.\" ","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T11:40:36.386406606Z","updated_at":"2026-01-11T11:40:36.386406646Z","ephemeral":true}
{"id":"reckoning-wisp-8ze","title":"Mechanical rebase","description":"Pick next branch from queue. Attempt mechanical rebase on current main.\n\n**Step 1: Checkout and attempt rebase**\n```bash\ngit checkout -b temp origin/\u003cpolecat-branch\u003e\ngit rebase origin/main\n```\n\n**Step 2: Check rebase result**\n\nThe rebase exits with:\n- Exit code 0: Success - proceed to run-tests\n- Exit code 1 (conflicts): Conflict detected - proceed to Step 3\n\nTo detect conflict state after rebase fails:\n```bash\n# Check if we're in a conflicted rebase state\nls .git/rebase-merge 2\u003e/dev/null \u0026\u0026 echo \"CONFLICT_STATE\"\n```\n\n**Step 3: Handle conflicts (if any)**\n\nIf rebase SUCCEEDED (exit code 0):\n- Skip to run-tests step (continue normal merge flow)\n\nIf rebase FAILED with conflicts:\n\n1. **Abort the rebase** (DO NOT leave repo in conflicted state):\n```bash\ngit rebase --abort\n```\n\n2. **Record conflict metadata**:\n```bash\n# Capture main SHA for reference\nMAIN_SHA=$(git rev-parse origin/main)\nBRANCH_SHA=$(git rev-parse origin/\u003cpolecat-branch\u003e)\n```\n\n3. **Create conflict-resolution task**:\n```bash\nbd create --type=task --priority=1 --title=\"Resolve merge conflicts: \u003coriginal-issue-title\u003e\" --description=\"## Conflict Resolution Required\n\nOriginal MR: \u003cmr-bead-id\u003e\nBranch: \u003cpolecat-branch\u003e\nOriginal Issue: \u003cissue-id\u003e\nConflict with main at: ${MAIN_SHA}\nBranch SHA: ${BRANCH_SHA}\n\n## Instructions\n1. Clone/checkout the branch\n2. Rebase on current main: git rebase origin/main\n3. Resolve conflicts\n4. Force push: git push -f origin \u003cbranch\u003e\n5. Close this task when done\n\nThe MR will be re-queued for processing after conflicts are resolved.\"\n```\n\n4. **Skip this MR** (do NOT delete branch or close MR bead):\n- Leave branch intact for conflict resolution\n- Leave MR bead open (will be re-processed after resolution)\n- Continue to loop-check for next branch\n\n**CRITICAL**: Never delete a branch that has conflicts. The branch contains\nthe original work and must be preserved for conflict resolution.\n\nTrack: rebase result (success/conflict), conflict task ID if created.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T16:43:57.225181018Z","updated_at":"2026-01-11T16:43:57.225181057Z","ephemeral":true}
{"id":"reckoning-wisp-9gm","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGE_READY              ‚îÇ                           ‚îÇ\n   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (verify branch)                   ‚îÇ\n   ‚îÇ                          ‚îÇ fetch \u0026 rebase            ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (run tests)                       ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (if pass)                         ‚îÇ\n   ‚îÇ                          ‚îÇ merge \u0026 push              ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGED                   ‚îÇ                           ‚îÇ\n   ‚îÇ\u003c‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-11T15:09:54.83687389Z","updated_at":"2026-01-11T15:12:34.710390197Z","closed_at":"2026-01-11T15:12:34.710390197Z","close_reason":"Patrol complete","ephemeral":true}
{"id":"reckoning-wisp-cy3","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGE_READY              ‚îÇ                           ‚îÇ\n   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (verify branch)                   ‚îÇ\n   ‚îÇ                          ‚îÇ fetch \u0026 rebase            ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (run tests)                       ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (if pass)                         ‚îÇ\n   ‚îÇ                          ‚îÇ merge \u0026 push              ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGED                   ‚îÇ                           ‚îÇ\n   ‚îÇ\u003c‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"open","priority":2,"issue_type":"epic","assignee":"reckoning/refinery","created_at":"2026-01-11T15:27:49.595837502Z","updated_at":"2026-01-11T15:50:00.698848981Z","ephemeral":true}
{"id":"reckoning-wisp-h0g","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGE_READY              ‚îÇ                           ‚îÇ\n   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (verify branch)                   ‚îÇ\n   ‚îÇ                          ‚îÇ fetch \u0026 rebase            ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (run tests)                       ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ                    (if pass)                         ‚îÇ\n   ‚îÇ                          ‚îÇ merge \u0026 push              ‚îÇ\n   ‚îÇ                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\u003e‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n   ‚îÇ MERGED                   ‚îÇ                           ‚îÇ\n   ‚îÇ\u003c‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                           ‚îÇ\n   ‚îÇ                          ‚îÇ                           ‚îÇ\n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"hooked","priority":2,"issue_type":"epic","assignee":"reckoning/refinery","created_at":"2026-01-11T19:02:21.015104749Z","updated_at":"2026-01-11T19:02:32.858951247Z","ephemeral":true}
{"id":"reckoning-wohh","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no branches processed, main clean","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T10:57:55.356081907Z","updated_at":"2026-01-11T10:57:55.356081907Z","closed_at":"2026-01-11T10:57:55.356040288Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-wsz","title":"Merge: rictus-mk8xmoi6","description":"branch: polecat/rictus-mk8xmoi6\ntarget: main\nsource_issue: rictus-mk8xmoi6\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:32:01.338455709Z","created_by":"reckoning/polecats/rictus","updated_at":"2026-01-11T08:01:45.336637399Z","closed_at":"2026-01-11T08:01:45.336637399Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
{"id":"reckoning-wtmo","title":"[INFRA] Add Playwright E2E test infrastructure - install playwright, create config, fixtures, mock helpers at packages/client/e2e/","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:42.553777005Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:42.553777005Z"}
{"id":"reckoning-x9t","title":"Merge: fury-mk9jehpv","description":"branch: polecat/fury-mk9jehpv\ntarget: main\nsource_issue: fury-mk9jehpv\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:34:42.576440354Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T10:08:19.851767676Z","closed_at":"2026-01-11T10:08:19.851767676Z","close_reason":"Merged to main: df2d3b0","labels":["gt:merge-request"]}
{"id":"reckoning-xcsh","title":"[BUG] Map speaker names to character IDs - add findCharacterByName() in main.ts to locate character card for speech bubble positioning","description":"Blocked by reckoning-pnkk (speaker tracking). Add function to look up character card by speaker name using DOM query. Speech bubble needs characterId but TTS only has speaker name.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:09:09.715249214Z","created_by":"stiwi","updated_at":"2026-01-11T19:09:09.715249214Z"}
{"id":"reckoning-xg1y","title":"Merge: fury-mk9zro1f","description":"branch: polecat/fury-mk9zro1f\ntarget: main\nsource_issue: fury-mk9zro1f\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:13:52.041087277Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T17:54:32.806468336Z","closed_at":"2026-01-11T17:54:32.806468336Z","close_reason":"Already merged - no new commits after rebase on main. Changes incorporated via other branches.","labels":["gt:merge-request"]}
{"id":"reckoning-xur","title":"Merge: fury-mk9ild7s","description":"branch: polecat/fury-mk9ild7s\ntarget: main\nsource_issue: fury-mk9ild7s\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-fury\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:17:58.113834667Z","created_by":"reckoning/polecats/fury","updated_at":"2026-01-11T09:24:23.248314131Z","closed_at":"2026-01-11T09:24:23.248314131Z","close_reason":"No new commits - branch already at main","labels":["gt:merge-request"]}
{"id":"reckoning-xydm","title":"Digest: mol-refinery-patrol","description":"Patrol: committed spread syntax refactor, tests passed (443 total), pushed bc3dbd6 to upstream","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T17:26:34.952435529Z","updated_at":"2026-01-11T17:26:34.952435529Z","closed_at":"2026-01-11T17:26:34.952401811Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-xyny","title":"[A11Y] Add accessibility to Controls - role=toolbar, aria-labels on buttons, keyboard nav in controls.ts","description":"Blocked by reckoning-tpsi (a11y utils). Add ARIA attributes and keyboard navigation to controls.ts for screen reader support and Playwright test selectors.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T19:08:56.603964207Z","created_by":"stiwi","updated_at":"2026-01-11T19:08:56.603964207Z"}
{"id":"reckoning-y2l","title":"P3-2.1: Party Panel Component","description":"Create party panel UI component with mock data.\nFiles: packages/client/src/components/party-panel.ts\nAcceptance: Panel renders with mock data, character cards show name/role/health","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2026-01-11T07:53:17.649471869Z","created_by":"Admin","updated_at":"2026-01-11T08:12:13.333388402Z","closed_at":"2026-01-11T08:12:13.333397518Z","labels":["client","foundation","phase-3","ui"]}
{"id":"reckoning-y73t","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no branches processed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:17:41.565514061Z","updated_at":"2026-01-11T16:17:41.565514061Z","closed_at":"2026-01-11T16:17:41.56547771Z","close_reason":"Squashed from 11 wisps"}
{"id":"reckoning-z94","title":"Merge: reckoning-1zj","description":"branch: polecat/dementus-mk8ynjwg\ntarget: main\nsource_issue: reckoning-1zj\nrig: reckoning\nagent_bead: reckoning-reckoning-polecat-dementus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T23:58:53.189611757Z","created_by":"reckoning/polecats/dementus","updated_at":"2026-01-11T08:01:44.088546801Z","closed_at":"2026-01-11T08:01:44.088546801Z","close_reason":"Stale - branch no longer exists","labels":["gt:merge-request"]}
